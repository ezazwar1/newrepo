angular.module("ionic.metApp.directives",["ngAnimate"]).directive("currentTime",["$timeout","$filter",function(t,e){return{restrict:"E",replace:!0,template:'<span class="current-time">{{currentTime}}</span>',scope:{localtz:"="},link:function(n,i,r){t(function o(){n.localtz&&(n.currentTime=e("date")(+new Date,"h:mm")+n.localtz),t(o,500)})}}}]).directive("currentWeatherTrin",["$timeout","$rootScope",function(t,e){return{restrict:"E",replace:!0,templateUrl:"app/home/current-weather-trin.html",scope:!0,compile:function(e,n){return function(e,n,i){t(function(){{var e=window.innerHeight,i=n[0].offsetHeight;document.querySelector(".header.trin").offsetHeight}n[0].style.paddingTop=(e-i)/5+"px",0>(e-i)/5&&(n[0].style.paddingTop="80px"),angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","auto"),t(function(){angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","touch")},50)})}}}}]).directive("currentWeatherBago",["$timeout","$rootScope",function(t,e){return{restrict:"E",replace:!0,templateUrl:"app/home/current-weather-bago.html",scope:!0,compile:function(e,n){return function(e,n,i){t(function(){{var e=window.innerHeight,i=n[0].offsetHeight;document.querySelector(".header.bago").offsetHeight}n[0].style.paddingTop=(e-i)/5+"px",angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","auto"),t(function(){angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","touch")},50)})}}}}]).directive("forecast",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/home/forecast.html",link:function(t,e,n){}}}]).directive("fiveThirty",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirty.html",link:function(t,e,n){}}}]).directive("tenThree",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/forecast/ten-three.html",link:function(t,e,n){}}}]).directive("fiveThirtyp",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirtyp.html",link:function(t,e,n){}}}]).directive("weatherBox",["$timeout",function(t){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@"},template:'<div class="weather-box"><h4 class="title">{{title}}</h4><div ng-transclude></div></div>',link:function(t,e,n){}}}]).directive("scrollEffects",function(){return{restrict:"A",link:function(t,e,n){{var i,r,o,c=document.querySelector(".bg-image");document.getElementById("trin-img")}e.bind("scroll",function(t){o||(o=document.querySelector(".header")),r=t.detail.scrollTop,i=Math.min(.6,r/1e3);{var e=5;"-webkit-filter: blur("+Math.abs(i*e)+"px);-moz-filter: blur("+i*e+"px);-o-filter: blur("+i*e+"px);-ms-filter: blur("+i*e+"px);filter: url('data:image/svg+xml;utf9,<svg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'><filter%20id='blur'><feGaussianBlur%20stdDeviation='60'%20/></filter></svg>#blur');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='"+i*e+"');clip: rect(520px 573px 516px 351px);"}ionic.requestAnimationFrame(function(){o.style.opacty=1-i,c&&(c.style.opacity=1-i)})})}}}).directive("backgroundCyclerTrin",["$compile","$animate",function(t,e){var n=function(n,i,r){var o=i.children()[0],c=n.$new();c.url=r;var a=t("<background-image></background-image>")(c);e.enter(a,i,null,function(){}),o&&e.leave(angular.element(o),function(){})};return{restrict:"E",link:function(t,e,i){t.$watch("activeBgImage",function(i){if(i){var r="img/home-images/"+t.default_trin+".jpg",o=i;r="http://farm"+o.farm+".static.flickr.com/"+o.server+"/"+o.id+"_"+o.secret+"_z.jpg",$el2=document.getElementById("menu-bg"),$el2.style.background="url("+r+")",$el3=document.getElementById("i-trin"),$el3.src=r,n(t,e,r)}})}}}]).directive("backgroundCyclerBago",["$compile","$animate",function(t,e){var n=function(n,i,r){var o=i.children()[0],c=n.$new();c.url=r;var a=t("<background-image></background-image>")(c);e.enter(a,i,null,function(){}),o&&e.leave(angular.element(o),function(){})};return{restrict:"E",link:function(t,e,i){t.$watch("activeBgImage",function(i){if(i){var r=i,o="http://farm"+r.farm+".static.flickr.com/"+r.server+"/"+r.id+"_"+r.secret+"_z.jpg";$el2=document.getElementById("menu-bg"),$el2.style.background="url("+o+")",$el3=document.getElementById("i-bago"),$el3.src=o,n(t,e,o)}})}}}]).directive("backgroundImage",["$compile","$animate","$timeout",function(t,e,n){return{restrict:"E",template:'<div class="bg-image"><div class="background-vignette"></div></div>',replace:!0,scope:!0,link:function(t,e,i){t.url&&(e[0].style.background="url("+t.url+") no-repeat center center fixed",n(function(){$(".bg-image").css({"-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover"})},1e3))}}}]).directive("trinSunUp",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/home/svg/sun-rise.html",link:function(t,e,n){}}}]).directive("trinSunDown",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/home/svg/sun-set.html",link:function(t,e,n){}}}]).directive("bagoSunUp",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirtyp.html",link:function(t,e,n){}}}]).directive("bagoSunDown",["$timeout",function(t){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirtyp.html",link:function(t,e,n){}}}]).directive("weatherIconTrin",["$rootScope","$timeout",function(t,e){return{restrict:"E",replace:!0,link:function(n,i,r){n.$watch("fcasttrin",function(){e(function(){var e=n.fcasttrin.replace(/\s/g,"-").toLowerCase();n.getContentUrl=function(){return t.trin_w_icon_ready=!0,"app/home/svg/"+e+".html"}},1e3)})},template:'<div ng-include="getContentUrl()" style="padding-top: 13px; margin-right: -7px;"></div>'}}]).directive("weatherIconBago",["$timeout","$rootScope",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("fcastbago",function(){t(function(){var t=n.fcastbago.replace(/\s/g,"-").toLowerCase();n.getContentUrl=function(){return e.bago_w_icon_ready=!0,"app/home/svg/"+t+".html"}},2e3)})},template:'<div ng-include="getContentUrl()" style="padding-top: 13px; margin-right: -7px;"></div>'}}]).directive("trinTodayIcon",["$rootScope","$timeout",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("trin_icon_today",function(){e(function(){var e=(n.trin_icon_today?n.trin_icon_today:"sunny").replace(/\s/g,"-").toLowerCase();n.ti1=function(){return t.trin_today_icon_ready=!0,"app/home/forecast_icons/"+e+".html"}},1e3)})},template:'<div ng-include="ti1()" class="tti"></div>'}}]).directive("trinTomIcon",["$rootScope","$timeout",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("trin_tm_icon",function(){e(function(){var e=(n.trin_tm_icon?n.trin_tm_icon:"sunny").replace(/\s/g,"-").toLowerCase();n.ti2=function(){return t.trin_tm_icon_ready=!0,"app/home/forecast_icons/"+e+".html"}},1e3)})},template:'<div ng-include="ti2()"></div>'}}]).directive("trinNdiIcon",["$rootScope","$timeout",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("trin_24_icon",function(){e(function(){var e=(n.trin_24_icon?n.trin_24_icon:"sunny").replace(/\s/g,"-").toLowerCase();n.ti3=function(){return t.trin_nd_icon_ready=!0,"app/home/forecast_icons/"+e+".html"}},1e3)})},template:'<div ng-include="ti3()"></div>'}}]).directive("bagoTodayIcon",["$rootScope","$timeout",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("bago_icon_today",function(){e(function(){var e=(n.bago_icon_today?n.bago_icon_today:"sunny").replace(/\s/g,"-").toLowerCase();n.bi1=function(){return t.bago_today_icon_ready=!0,"app/home/forecast_icons/"+e+".html"}},1e3)})},template:'<div ng-include="bi1()"></div>'}}]).directive("bagoTomIcon",["$rootScope","$timeout",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("bago_tm_icon",function(){e(function(){var e=(n.bago_tm_icon?n.bago_tm_icon:"sunny").replace(/\s/g,"-").toLowerCase();n.bi2=function(){return t.bago_tm_icon_ready=!0,"app/home/forecast_icons/"+e+".html"}},1e3)})},template:'<div ng-include="bi2()"></div>'}}]).directive("bagoNdiIcon",["$rootScope","$timeout",function(t,e){return{restrict:"E",link:function(n,i,r){n.$watch("bago_24_icon",function(){e(function(){var e=(n.bago_24_icon?n.bago_24_icon:"sunny").replace(/\s/g,"-").toLowerCase();n.bi3=function(){return t.bago_nd_icon_ready=!0,"app/home/forecast_icons/"+e+".html"}},1e3)})},template:'<div ng-include="bi3()"></div>'}}]);