function MarkerClusterer(e,t,n){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var o=n||{};this.gridSize_=o.gridSize||60,this.minClusterSize_=o.minimumClusterSize||2,this.maxZoom_=o.maxZoom||null,this.styles_=o.styles||[],this.imagePath_=o.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=o.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,void 0!=o.zoomOnClick&&(this.zoomOnClick_=o.zoomOnClick),this.averageCenter_=!1,void 0!=o.averageCenter&&(this.averageCenter_=o.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var i=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=i.map_.getZoom();i.prevZoom_!=e&&(i.prevZoom_=e,i.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){i.redraw()}),t&&t.length&&this.addMarkers(t,!1)}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,n){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=t,this.padding_=n||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}!function(){"use strict";angular.module("starter",["ionic","ngMessages","ngCookies","ngStorage","pascalprecht.translate","tmh.dynamicLocale","angularMoment","ngFacebook","angular-cache","ngSanitize","mentio","angulartics","angulartics.google.analytics","jett.ionic.scroll.sista","ngCordova","ImgCache","ionic.components","angulartics.google.analytics.cordova","app.main"])}(),function(){"use strict";angular.module("ionic.components",["ion-language","ion-location","ion-slideshow","ionic-cache-src","ion-photo"])}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,n){function o(){var e=n.href;return window.cordova?window.cordova.ThemeableBrowser.open(e,"_blank",{statusbar:{color:"#ffffffff"},toolbar:{height:44,color:"#f0f0f0ff"},title:{color:"#000",showPageTitle:!0},backButtonCanClose:!0}):window.open(e),!1}t.bind("click",o)}}}angular.module("starter").directive("href",e)}(),function(){"use strict";angular.module("app.main",["ionic","ngCordova"])}(),function(){"use strict";function e(e,t){var n=navigator.language||navigator.userlanguage,o=n.split("-")[0],i=t.preferredLocale,a=_.some(t.locales,{code:o});a&&(i=t.locales.filter(function(e){return i==e.code})[0].code),e.changeLocale(i)}function t(e,t,n,o){t.useLoader("$translatePartialLoader",{urlTemplate:"{part}/i18n/{lang}.json"}),t.useSanitizeValueStrategy(null),t.useMissingTranslationHandlerLog(),t.useLocalStorage(),o.localeLocationPattern("../bower_components/angular-i18n/angular-locale_{{locale}}.js");var i=navigator.language||navigator.userlanguage,a=i.split("-")[0],r=n.preferredLocale,s=_.some(n.locales,{code:a});s&&(r=n.locales.filter(function(e){return r==e.code})[0].code),t.preferredLanguage(r)}t.$inject=["$translatePartialLoaderProvider","$translateProvider","AppConfig","tmhDynamicLocaleProvider"],e.$inject=["amMoment","AppConfig"],angular.module("ion-language",["ngCookies","pascalprecht.translate","tmh.dynamicLocale","angularMoment"]).config(t).run(e)}(),function(){"use strict";angular.module("ion-location",["ionic"])}(),function(){"use strict";angular.module("ion-photo",["ionic","ngCordova","jrCrop"]).constant("config",{path:"app/component/ion-photo"})}(),function(){"use strict";angular.module("ion-slideshow",[]).directive("ionSlideshow",["$ionicPopup","$ionicPopover","$rootScope","Loading","$translate","User","Gallery","Toast","$ionicModal",function(e,t,n,o,i,a,r,s,l){function c(a,c,u){c.bind("click",function(){a.allImages=a.ngModel,a.activeSlide=a.index,a.indexActual=a.index,console.log(a.index),l.fromTemplateUrl("app/component/ion-slideshow/image-popover.html",{scope:a}).then(function(e){a.modal=e,a.modal.show()}),a.slideChanged=function(e){a.indexActual=e},a.openPopover=function(e){t.fromTemplateUrl("app/component/ion-slideshow/ion-slideshow.popover.html",{scope:a}).then(function(t){a.slidepopover=t,a.slidepopover.show(e)})},a.closePopover=function(){a.slidepopover.hide()},a.editPhoto=function(){a.closePopover()},a.deletePhoto=function(){var t=a.indexActual,l=a.allImages[t];a.closePopover(),e.confirm({title:i.instant("deleteGalleryConfirmText"),template:i.instant("areSure")}).then(function(e){e&&(o.start(),r.get(l.id).then(function(e){e?r.destroy(e).then(function(){console.log("Photo deleted"),s.alert({title:"Photo",text:"Photo deleted"}),n.$emit("photogrid:modal:reload",!0),a.closeModal(),o.end()}):(a.onReload(),o.end())})["catch"](function(){a.onReload(),o.end()}))})},a.closeModal=function(){a.modal.hide(),a.modal.remove()}})}return{restrict:"A",scope:{ngModel:"=",index:"=",canEdit:"="},link:c}}])}(),function(){"use strict";angular.module("app.main")}(),function(e,t,n,o,i,a,r){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(n),r=t.getElementsByTagName(n)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53950213-6",{cookieDomain:"none"}),function(){"use strict";function e(e){e.setOptions({debug:!1,usePersistentCache:!0}),e.manualInit=!0}function t(e,t){e.ready(function(){t.$init()})}function n(e){e.debugInfoEnabled(!1)}function o(e,t,n,o,i,a,r){t.init({appId:e.parse.appId,server:e.parse.server}),r.currentUser||a.path("/"),n.ready(function(){var e=t.User.current();e&&o.init()}),i.unit||(i.unit=e.map.unit),i.mapType||(i.mapType=e.map.type)}function i(e,t,n,o,i,a,r){t.theme=r.theme,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.disableScroll(!0),window.StatusBar.styleLightContent());var e=o.use();e?(o.use(e),n.changeLocale(e)):"undefined"!=typeof navigator.globalization&&i.getPreferredLanguage().then(function(e){o.use(e.value.split("-")[0]),n.changeLocale(e.value)},null),navigator&&navigator.splashscreen&&a.hide()})}function a(e){e.platform.ios.backButton.previousTitleText(" ").icon("ion-ios-arrow-left"),e.platform.android.backButton.previousTitleText(" ").icon("ion-ios-arrow-left"),e.views.swipeBackEnabled(!1),e.backButton.text(" ").icon("ion-ios-arrow-left"),e.tabs.position("bottom"),e.navBar.alignTitle("center")}function r(e,t){window.cordova||(e.setAppId(t.facebookAppId),e.setPermissions("id,name,email,user_likes,bio"))}function s(){if(!window.cordova){var e=window.navigator.language||window.navigator.userLanguage,t=e.substring(0,2)+"_"+e.substring(3,5).toUpperCase();!function(e,n,o){var i,a=e.getElementsByTagName(n)[0];e.getElementById(o)||(i=e.createElement(n),i.id=o,i.src="https://connect.facebook.net/"+t+"/all.js",a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk")}}o.$inject=["AppConfig","Parse","$ionicPlatform","ParsePush","$localStorage","$location","$rootScope"],a.$inject=["$ionicConfigProvider"],i.$inject=["$ionicPlatform","$rootScope","amMoment","$translate","$cordovaGlobalization","$cordovaSplashscreen","AppConfig"],r.$inject=["$facebookProvider","AppConfig"],t.$inject=["$ionicPlatform","ImgCache"],e.$inject=["ImgCacheProvider"],n.$inject=["$compileProvider"],angular.module("starter").run(o).config(a).run(i).run(s).config(r).run(t).config(e).config(n)}(),function(){"use strict";function e(){return{path:"app/module/photogram",app:{name:"Photogram",url:"http://photogramapp.com",image:"http://photogramapp.com/social-share.jpg"},routes:{home:"tab.home",login:"intro"},theme:"positive",facebookAppId:"1024016557617380",parse:{appId:"myAppId",server:"https://photogram.codevibe.io/parse/"},map:{unit:"mi",type:"normal"},locales:[{translation:"portugues",code:"pt"},{translation:"english",code:"en"},{translation:"turkish",code:"tr"},{translation:"persian",code:"fa"},{translation:"german",code:"de"}],preferredLocale:"en"}}angular.module("ionic").constant("AppConfig",e())}(),function(){"use strict";function e(e,t,n){n.addPart("app"),e.state("loading",{url:"/",templateUrl:"app/main/loading/loading.html",controller:"LoadingCtrl",controllerAs:"vm"}).state("intro",{url:"/intro",templateUrl:"app/main/user-intro/user-intro.html",controller:"UserIntroCtrl",controllerAs:"vm"}).state("user.intro",{url:"/intro",templateUrl:"app/main/user-intro/user-intro.html",controller:"UserIntroCtrl"}).state("user",{url:"/user","abstract":!0,templateUrl:"app/main/user-layout/user-layout.html"}).state("avatar",{url:"/avatar",templateUrl:"app/main/user-avatar/user-avatar.html",controller:"UserAvatarCtrl",controllerAs:"vm"}).state("user.merge",{url:"/merge",controller:"UserMergeCtrl",controllerAs:"vm",templateUrl:"app/main/user-merge/merge.html"}).state("logout",{url:"/logout",template:'<ion-view view-title="Logout" cache-view="false"><ion-content></ion-content></ion-view>',controller:["User","$localStorage","AppConfig","$state",function(e,t,n,o){e.logOut(),t.$reset({}),o.go("intro",{clear:!0})}],controllerAs:"vm"}).state("profile",{url:"/profile/:username",templateUrl:"app/main/profile/profile.html",controllerAs:"vm"}).state("tab",{url:"/tab","abstract":!0,controller:"MainTabCtrl",controllerAs:"vm",templateUrl:"app/main/tab/main-tab.html"}).state("tab.home",{url:"/home",views:{tabHome:{controller:"HomeCtrl",controllerAs:"vm",templateUrl:"app/main/tab-home/home.html"}}}).state("tab.homeProfile",{url:"/home/:username",views:{tabHome:{controller:"ProfileCtrl",controllerAs:"vm",templateUrl:"app/main/profile/profile.html"}}}).state("galleryComments",{url:"/home/:galleryId/comments",controller:"GalleryComment",controllerAs:"vm",templateUrl:"app/main/gallery-comment/gallery-comment.html"}).state("tab.homeGalleryLikers",{url:"/home/:galleryId/likers",views:{tabHome:{controller:"UserLikersCtrl",controllerAs:"vm",templateUrl:"app/main/user-likers/user-likers.html"}}}).state("tab.homeProfileFollowers",{url:"/home/:username/followers",views:{tabHome:{controller:"UserFollowerCtrl",controllerAs:"vm",templateUrl:"app/main/user-followers/user-followers.html"}}}).state("tab.homeProfileFollowing",{url:"/home/:username/follwing",views:{tabHome:{controller:"UserFollowingCtrl",controllerAs:"vm",templateUrl:"app/main/user-following/user-following.html"}}}).state("tab.homeUserlist",{url:"/home/userlist",views:{tabHome:{controller:"UserListCtrl",controllerAs:"vm",templateUrl:"app/main/user-list/user-list.html"}}}).state("tab.search",{url:"/search/:text",views:{tabSearch:{controller:"SearchCtrl",controllerAs:"vm",templateUrl:"app/main/tab-search/search.html"}}}).state("tab.searchProfile",{url:"/search/:username",views:{tabSearch:{controller:"ProfileCtrl",controllerAs:"vm",templateUrl:"app/main/profile/profile.html"}}}).state("tab.searchProfileFollowers",{url:"/search/:username/followers",views:{tabSearch:{controller:"UserFollowerCtrl",controllerAs:"vm",templateUrl:"app/main/user-followers/user-followers.html"}}}).state("tab.map",{url:"/map",views:{tabSearch:{controller:"SearchMapCtrl",controllerAs:"vm",templateUrl:"app/main/tab-search-map/searchMap.html"}}}).state("tab.mapProfile",{url:"/map/:username",views:{tabSearch:{controller:"ProfileCtrl",controllerAs:"vm",templateUrl:"app/main/profile/profile.html"}}}).state("tab.mapProfileFollowers",{url:"/map/:username/followers",views:{tabSearch:{controller:"UserFollowerCtrl",controllerAs:"vm",templateUrl:"app/main/user-followers/user-followers.html"}}}).state("tab.mapProfileFollowing",{url:"/map/:username/follwing",views:{tabActivity:{controller:"UserFollowingCtrl",controllerAs:"vm",templateUrl:"app/main/user-following/user-following.html"}}}).state("tab.account",{url:"/account",views:{tabProfile:{controller:"AccountCtrl",controllerAs:"vm",templateUrl:"app/main/tab-account/account.html"}}}).state("tab.accountFollowers",{url:"/account/:username/followers",views:{tabProfile:{controller:"UserFollowerCtrl",controllerAs:"vm",templateUrl:"app/main/user-followers/user-followers.html"}}}).state("tab.accountFollowing",{url:"/account/:username/follwing",views:{tabProfile:{controller:"UserFollowingCtrl",controllerAs:"vm",templateUrl:"app/main/user-following/user-following.html"}}}).state("tab.activity",{url:"/activity",views:{tabActivity:{controller:"ActivityCtrl",controllerAs:"vm",templateUrl:"app/main/tab-activity/activity.html"}}}).state("tab.activityProfile",{url:"/activity/:username",views:{tabActivity:{controller:"ProfileCtrl",controllerAs:"vm",templateUrl:"app/main/profile/profile.html"}}}).state("tab.activityProfileFollowers",{url:"/activity/:username/followers",views:{tabActivity:{controller:"UserFollowerCtrl",controllerAs:"vm",templateUrl:"app/main/user-followers/user-followers.html"}}}).state("tab.activityProfileFollowing",{url:"/activity/:username/follwing",views:{tabActivity:{controller:"UserFollowingCtrl",controllerAs:"vm",templateUrl:"app/main/user-following/user-following.html"}}}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider","$translatePartialLoaderProvider"],angular.module("starter").config(e)}(),MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),n=new google.maps.LatLngBounds,o=0;e=t[o];o++)n.extend(e.getPosition());this.map_.fitBounds(n)},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(e,t){for(var n=0,o=e.length,i=o;0!==i;)i=parseInt(i/10,10),n++;return n=Math.min(n,t),{text:o,index:n}},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(e,t){for(var n,o=0;n=e[o];o++)this.pushMarkerTo_(n);t||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var n,o=0;n=this.markers_[o];o++)if(n==e){t=o;break}return-1==t?!1:(e.setMap(null),this.markers_.splice(t,1),!0)},MarkerClusterer.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n?(this.resetViewport(),this.redraw(),!0):!1},MarkerClusterer.prototype.removeMarkers=function(e,t){for(var n,o=!1,i=0;n=e[i];i++){var a=this.removeMarker_(n);o=o||a}return!t&&o?(this.resetViewport(),this.redraw(),!0):void 0},MarkerClusterer.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(e){this.map_=e},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),o=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_,i.y-=this.gridSize_;var a=t.fromLatLngToDivPixel(o);a.x-=this.gridSize_,a.y+=this.gridSize_;var r=t.fromDivPixelToLatLng(i),s=t.fromDivPixelToLatLng(a);return e.extend(r),e.extend(s),e},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(e){for(var t,n=0;t=this.clusters_[n];n++)t.remove();for(var o,n=0;o=this.markers_[n];n++)o.isAdded=!1,e&&o.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var t,n=0;t=e[n];n++)t.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var n=6371,o=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2),r=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),s=n*r;return s},MarkerClusterer.prototype.addToClosestCluster_=function(e){for(var t,n=4e4,o=null,i=(e.getPosition(),0);t=this.clusters_[i];i++){var a=t.getCenter();if(a){var r=this.distanceBetweenPoints_(a,e.getPosition());n>r&&(n=r,o=t)}}if(o&&o.isMarkerInClusterBounds(e))o.addMarker(e);else{var t=new Cluster(this);t.addMarker(e),this.clusters_.push(t)}},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),n=this.getExtendedBounds(t),o=0;e=this.markers_[o];o++)!e.isAdded&&this.isMarkerInBounds_(e,n)&&this.addToClosestCluster_(e)},Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,n=0;t=this.markers_[n];n++)if(t==e)return!0;return!1},Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,n=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,o=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(n,o),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var i=this.markers_.length;if(i<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),i==this.minClusterSize_)for(var a=0;i>a;a++)this.markers_[a].setMap(null);return i>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers(),o=0;e=n[o];o++)t.extend(e.getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&e>t)for(var n,o=0;n=this.markers_[o];o++)n.setMap(this.map_);else{if(this.markers_.length<this.minClusterSize_)return void this.clusterIcon_.hide();var i=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(a),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(e){var t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"clusterclick",this.cluster_,e),t.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}var t=this.getPanes();t.overlayMouseTarget.appendChild(this.div_);var n=this,o=!1;google.maps.event.addDomListener(this.div_,"click",function(e){o||n.triggerClusterClick(e)}),google.maps.event.addDomListener(this.div_,"mousedown",function(){o=!1}),google.maps.event.addDomListener(this.div_,"mousemove",function(){o=!0})},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return"object"==typeof this.iconAnchor_&&2===this.iconAnchor_.length?(t.x-=this.iconAnchor_[0],t.y-=this.iconAnchor_[1]):(t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10)),t},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition,this.iconAnchor_=t.iconAnchor},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var n=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+n+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):"number"==typeof this.anchor_[0]&&this.anchor_[0]<0&&-this.anchor_[0]<this.height_?t.push("height:"+this.height_+"px; line-height:"+(this.height_+this.anchor_[0])+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var o=this.textColor_?this.textColor_:"black",i=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+o+"; position:absolute; font-size:"+i+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,function(){"use strict";function e(e,t,n,o,i,a,r,s,l){function c(c,u,d){u.bind("click",function(){c.routeLogged=s.routes.home,c.form={username:"",password:""},c.submitLogin=function(e,r){var s=angular.copy(r);return e.$valid?(t.start(),void n.signIn(s).then(function(e){console.log(e),l.currentUser=e,i.go(c.routeLogged,{clear:!0}),c.closeModal(),l.$emit("photolist:reload"),t.end()})["catch"](function(e){a.alert({title:"Error",text:o.instant("incorrectEmail")}),t.end()})):!1},c.forgotPass=function(){c.data={},r.show({template:'<input type="email" ng-model="data.email">',title:o.instant("recoveryPass"),subTitle:o.instant("fillEmail"),scope:c,buttons:[{text:o.instant("cancel")},{text:"<b >"+o.instant("submit")+"</b>",type:"button-positive",onTap:function(e){c.data.email?(t.start(),n.recoverPassword(c.data.email).then(function(e){a.alert({title:"Alert",text:o.instant("recoverySuccess")}),t.end()})):e.preventDefault()}}]})},e.fromTemplateUrl("app/directive/SigninModalDirective.html",{scope:c,animation:"slide-in-up",focusFirstInput:!0}).then(function(e){c.modal=e,c.modal.show()}),c.closeModal=function(){c.modal.hide()},c.$on("$destroy",function(){c.modal.remove()})})}return{restrict:"A",link:c}}e.$inject=["$ionicModal","Loading","User","$translate","$state","Toast","$ionicPopup","AppConfig","$rootScope"],angular.module("starter").directive("signinModal",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(s,l,c){l.bind("click",function(){s.routeLogged=e.routes.home,s.form={username:"",email:"",password:""},s.submitRegister=function(e,a){if(e.$valid){t.start();var l=angular.copy(a);n.signUp(l).then(function(e){console.log(e),n.signIn({username:l.username,password:l.password}).then(function(e){console.log(e),r.currentUser=Parse.User.current(),o.go("avatar",{clear:!0}),t.end(),r.$emit("photolist:reload"),s.closeModal()})["catch"](function(e){console.log(e),i.alert({title:"Alert",text:e.error}),t.end()})})["catch"](function(e){console.log(e),i.alert({title:"Alert",text:e.error}),t.end()})}},a.fromTemplateUrl("app/directive/SignupModalDirective.html",{scope:s,animation:"slide-in-up",focusFirstInput:!0}).then(function(e){s.modal=e,s.modal.show()}),s.closeModal=function(){s.modal.hide()},s.$on("$destroy",function(){s.modal.remove()})})}return{restrict:"A",link:s}}e.$inject=["AppConfig","Loading","User","$state","Toast","$ionicModal","$rootScope"],angular.module("starter").directive("signupModal",e)}(),function(){"use strict";function e(e,t){function n(n,o,i){function a(){n.loading||(n.loading=!0,e.list(n.params).then(function(e){n.canEdit&&(_.some(n.data,{create:!0})||n.data.push({create:!0})),e.length>0?(n.params.page++,e.map(function(e){n.data.push(e)})):(0===n.data.length&&(n.showEmptyView=!0),n.moreDataCanBeLoaded=!1),n.loading=!1,t.$broadcast("scroll.infiniteScrollComplete"),t.$broadcast("scroll.refreshComplete")})["catch"](function(){0===n.data.length&&(n.showErrorView=!0),n.$broadcast("scroll.refreshComplete")}))}function r(){n.params={},n.params.page=1,n.data=[],n.moreDataCanBeLoaded=!0,n.loading=!1}n.canEdit=n.username===Parse.User.current().username?!0:!1,r(),n.username&&(n.params.username=n.username),t.$on("photoInclude",function(e,t){t.objectId&&(t.id=t.objectId),n.data.unshift(t)}),t.$on("gallery:search",function(e,t){console.log(e,t),n.params.search=t.text,n.onReload()}),t.$on("albumGrid:reload",function(e,t){r(),n.onReload()}),a(),n.onLoadMore=function(){a()},n.onReload=function(){r(),a(),n.$broadcast("scroll.refreshComplete")}}return{restrict:"E",scope:{username:"=",user:"=",profile:"=",onReload:"="},templateUrl:"app/directive/albumGridDirective.html",link:n}}e.$inject=["GalleryAlbum","$rootScope"],angular.module("starter").directive("albumGrid",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c,u,d){function m(m,p,g){p.bind("click",function(){function p(){m.loading=!0,t.getAlbum({id:m.album}).then(function(e){console.log(e),m.title=e.album.attributes.title,m.data=e.photos,m.loading=!1,m.$apply()})}return m.theme=e.theme,m.canEdit=m.edit,m.album?(u.fromTemplateUrl("app/directive/albumPhotoGridDirective.html",{scope:m}).then(function(e){m.modal=e,m.modal.show()}),m.closeAlbumPhotoGridModal=function(){m.modal.hide()},m.$on("$destroy",function(){m.modal.remove()}),i.$on("photogrid:modal:reload",p),p(),m.openPopover=function(e){d.fromTemplateUrl("app/directive/albumPhotoGridPopover.html",{scope:m}).then(function(t){m.popover=t,m.popover.show(e)})},m.closePopover=function(){m.popover.hide()},m.uploadPhoto=function(){m.closePopover(),a.open().then(a.modalPost).then(function(e){r.start(),s.upload({base64:e.image}).then(function(n){e.image=n,t.create(e).then(function(e){m.$emit("albumGrid:reload",e),p(),r.end()})})}),m.closePopover()},m.editAlbum=function(){m.closePopover(),m.form={title:"",description:""},u.fromTemplateUrl("app/directive/galleryNewAlbumModalDirective.html",{scope:m,focusFirstInput:!0}).then(function(e){m.modalAlbum=e,r.start(),n.get(m.album).then(function(e){m.form=e,m.modalAlbum.show(),r.end()})}),m.createAlbum=function(e,t){console.log(e,t),e.$valid&&m.form.save().then(function(e){console.log(e),m.closeAlbumPhotoGridModal(),m.closeModal(),i.$emit("albumGrid:reload",!0)})},m.closeModal=function(){m.modalAlbum.hide()}},void(m.deleteAlbum=function(){m.closePopover(),o.confirm({title:l.instant("deleteAlbum"),message:l.instant("areSure?")}).then(function(e){console.log(e),e&&(r.start(),n.get(m.album).then(function(e){n.destroy(e).then(function(e){console.log(e),m.closeAlbumPhotoGridModal(),r.end(),c.alert({title:l.instant("album"),text:l.instant("removedSuccess")}),i.$emit("albumGrid:reload",!0)})}))})})):!1})}return{
restrict:"A",scope:{album:"=",edit:"="},link:m}}e.$inject=["AppConfig","Gallery","GalleryAlbum","Dialog","$rootScope","PhotoService","Loading","ParseFile","$translate","Toast","$ionicModal","$ionicPopover"],angular.module("starter").directive("albumPhotoGrid",e)}(),function(){"use strict";function e(e){function t(e,t){t.bind("click",function(){var e="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S";window.cordova?cordova.ThemeableBrowser.open(e,"_blank",{statusbar:{color:"#ffffffff"},toolbar:{height:44,color:"#f0f0f0ff"},title:{color:"#333333",showPageTitle:!0},closeButton:{image:"close",imagePressed:"close_pressed",align:"left",event:"closePressed"},backButtonCanClose:!0}):window.open(e,"_blank")})}return{restrict:"A",link:t}}e.$inject=["$cordovaInAppBrowser"],angular.module("starter").directive("buy",e)}(),function(){"use strict";function e(){return{restrict:"A",scope:{targetModel:"=compareTo"},require:"ngModel",link:function(e,t,n,o){var i=function(){var n=t.val(),o=e.targetModel;return null!==o?n===o:!1};e.$watch(i,function(e){o.$setValidity("errorCompareTo",e)})}}}angular.module("starter").directive("compareTo",e)}(),function(){"use strict";function e(e,t){function n(n,o,i){o.bind("click",function(){n.storage=e,n.distances=[{val:.2,text:"perto"},{val:.6,text:"longe"},{val:1,text:"1 "+n.storage.unit},{val:5,text:"5 "+n.storage.unit},{val:10,text:"10 "+n.storage.unit},{val:25,text:"25 "+n.storage.unit},{val:50,text:"50 "+n.storage.unit},{val:100,text:"100 "+n.storage.unit}],t.fromTemplateUrl("app/directive/distanceModal.html",{scope:n}).then(function(e){n.modal=e,n.modal.show()}),n.onDistanceSelected=function(e){console.log("Distance",e)},n.closeDistanceModal=function(){n.modal.hide(),n.modal.remove()}})}return{restrict:"A",link:n}}e.$inject=["$localStorage","$ionicModal"],angular.module("starter").directive("distanceModal",e)}(),function(){"use strict";function e(e){function t(t,n,o,i){i.$asyncValidators.email=function(t,o){return o?(console.log(n,o),e.validateEmail(o)):void 0}}return{require:"ngModel",link:t}}e.$inject=["User"],angular.module("starter").directive("emailValidator",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l){function c(o,c,u){function d(){a.getCurrentUser().then(function(e){"connected"===e.status?m(e):a.logIn().then(function(e){m(e)})})}function m(o){e.start("Conectando com o Facebook");var c,u;return a.me().then(function(e){return c=e,s.findByEmail(e.email)}).then(function(e){if(!e.id)return u=!0,s.signInViaFacebook(o);var t=e.get("authData");if(!t){var i=n.defer();return i.reject("Facebook error"),i.promise}return t.facebook.id===c.id?s.signInViaFacebook(o):void 0}).then(function(){return s.updateWithFacebookData(c)}).then(function(n){l.currentUser=n,l.$broadcast("onUserLogged"),e.end(),u?t.go("avatar",{clear:!0}):t.go(i.routes.home,{clear:!0}),e.end()},function(t){e.end(),r.alert(t)})}o.facebookStatus=null,c.bind("click",d)}return{restrict:"E",link:c,template:'<button class="button button-block button-facebook"><i class="icon ion-social-facebook"></i> <ion-spinner ng-if="loading"></ion-spinner> <span ng-if="!loading">{{ me.name || \'loginWithFacebook\'| translate}}</span> </button>'}}e.$inject=["Loading","$state","$q","$translate","AppConfig","Facebook","Dialog","User","$rootScope"],angular.module("starter").directive("facebookLogin",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(n,o,i){function a(){e(function(){o[0].focus(),o[0].click(),window.cordova&&cordova.plugins.Keyboard.show()},750)}t.$on("openKeyboard",a),a()}}}e.$inject=["$timeout","$rootScope"],angular.module("starter").directive("focusMe",e)}(),function(){"use strict";function e(e,t,n,o,i){function a(a,r,s){function l(){function r(){a.loading||(a.loading=!0,o.list(a.params).then(function(e){console.log(e),e.length>0?(a.params.page++,e.map(function(e){a.data.push(e)})):(0===a.data.length&&(a.showEmptyView=!0),a.moreDataCanBeLoaded=!1),a.loading=!1,i.$broadcast("scroll.infiniteScrollComplete"),i.$broadcast("scroll.refreshComplete")})["catch"](function(e){0===a.data.length&&(a.showErrorView=!0),a.$broadcast("scroll.refreshComplete")}))}function s(){a.params={},a.params.page=1,a.data=[],a.moreDataCanBeLoaded=!0,a.loading=!1,a.canEdit&&a.data.push({create:!0})}var l=n.defer();return a.loading=!0,a.theme=t.theme,s(),r(),a.onLoadMore=function(){r()},a.onReload=function(){s(),r(),a.$broadcast("scroll.refreshComplete")},e.fromTemplateUrl("app/directive/galleryAlbumModalDirective.html",{scope:a,focusFirstInput:!0}).then(function(e){a.modal=e,a.modal.show()}),i.$on("selectAlbum",function(e,t){console.log("selectAlbum",e),console.log("selectAlbum",t),a.ngModel=t,a.closeModal()}),a.closeModal=function(){a.modal.hide()},a.$on("$destroy",function(){a.modal.remove()}),a.selectAlbum=function(e){a.ngModel=e,a.closeModal()},l.promise}r.bind("click",l)}return{restrict:"A",link:a,scope:{ngModel:"="}}}e.$inject=["$ionicModal","AppConfig","$q","GalleryAlbum","$rootScope"],angular.module("starter").directive("galleryAlbumModal",e)}(),function(){"use strict";function e(e,t,n,o,i){function a(a,r,s){function l(){var r=n.defer();return a.theme=t.theme,a.form={title:"",description:""},e.fromTemplateUrl("app/directive/galleryNewAlbumModalDirective.html",{scope:a,focusFirstInput:!0}).then(function(e){a.modal=e,a.modal.show()}),a.createAlbum=function(e,t){console.log(e,t),e.$valid&&i.create(angular.copy(t)).then(function(e){console.log("album created",e),a.ngModel=e,a.closeModal(),o.$emit("selectAlbum",e),o.$emit("albumGrid:reload",e)})},a.closeModal=function(){a.modal.hide()},a.$on("$destroy",function(){a.modal.remove()}),a.selectAlbum=function(e){a.ngModel=e,a.closeModal()},r.promise}r.bind("click",l)}return{restrict:"A",link:a,scope:{ngModel:"="}}}e.$inject=["$ionicModal","AppConfig","$q","$rootScope","GalleryAlbum"],angular.module("starter").directive("galleryNewAlbumModal",e)}(),function(){"use strict";function e(){function e(e,t,n){t.bind("click",function(){console.log(e.item),t.addClass("happy")})}return{restrict:"A",scope:{item:"="},link:e}}angular.module("starter").directive("heart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{icon:"@",loading:"="},template:'<div class="padding text-center loading" ng-show="loading"><ion-spinner icon="{{ icon }}"></ion-spinner></div>'}}function t(e,t){e.$on("ionicLoading:true",function(n){e.loading=!0,t.show(n)}),e.$on("ionicLoading:false",function(){e.loading=!1,t.hide()})}function n(e,t,n){function o(n){window.cordova?t.showSimple():e.$broadcast("ionicLoading:true",n)}function i(){n(function(){window.cordova?t.hide():e.$broadcast("ionicLoading:false")},parseInt(a+"000"))}var a=0;return{start:o,end:i}}t.$inject=["$rootScope","$ionicLoading"],n.$inject=["$rootScope","$cordovaProgress","$timeout"],angular.module("starter").directive("ionLoading",e).run(t).factory("Loading",n)}(),function(){"use strict";function e(){return{restrict:"E",scope:{loading:"=",icon:"@"},template:'<div class="padding text-center loading" ng-show="loading"><ion-spinner icon="{{ icon }}"></ion-spinner></div>'}}angular.module("starter").directive("loading",e)}(),function(){"use strict";function e(e,t,n,o,i,a){function r(e,r,s){function l(){e.galleries=[],g(),h();var t={latitude:-18.8800397,longitude:-47.05878999999999},n={center:u(t),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};e.map=new google.maps.Map(document.getElementById("map_canvas"),n)}function c(){i.getCurrentPosition().then(function(t){console.log(t),e.params.location={latitude:t.coords.latitude,longitude:t.coords.longitude};var n={position:u(e.params.location),title:"I am here",id:0};d(n),e.map.setCenter(u(e.params.location)),p()},function(t){e.params.location=null;var n;n=1===t.code||3===t.code?"errorGpsDisabledText":"errorLocationMissingText",a.alert(n)})}function u(e){return e?new google.maps.LatLng(e.latitude,e.longitude):void 0}function d(t){var n={id:t.id,map:e.map,position:t.position,title:t.title,animation:google.maps.Animation.DROP};if(t.icon){var o=40;n.icon={url:t.icon,size:new google.maps.Size(o,o),scaledSize:new google.maps.Size(o,o),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(o/4,o/4)}}var i=new google.maps.Marker(n);google.maps.event.addListener(i,"click",function(){console.log(t.username)}),f.push(i),new MarkerClusterer(e.map,f,{imagePath:"../img/m"}),v.extend(t.position),e.map.fitBounds(v)}function m(t){e.galleries=t,t.map(function(t){if(t.location){var n={map:e.map,id:t.id,position:u(t.location),title:t.title,image:t.image.url(),icon:t.imageThumb.url()};d(n)}})}function p(){e.loading=!0,o.feed(e.params).then(function(t){t.length>0?m(t):a.alert("galleriesNotFoundText"),e.loading=!1},function(){n.show("errorText")})}function g(){e.galleries=[]}function h(){f.map(function(e){e.setMap(null)}),f=[]}var f=[],v=new google.maps.LatLngBounds;e.maxRating=5,e.storage=t,e.galleries=[],e.params={location:null,distance:100,page:1,limit:10,username:e.username},e.loading=!0,e.map,l(),c(),e.onSearchHere=function(){e.params.location.latitude=e.map.getCenter().lat(),e.params.location.longitude=e.map.getCenter().lng(),g(),h(),p()},e.onGalleryClicked=function(e){console.log(e)}}return{restrict:"E",link:r,scope:{username:"=",load:"=",onReload:"="},templateUrl:"app/directive/mapPhotoUserDirective.html"}}e.$inject=["$state","$localStorage","Toast","Gallery","Geolocation","Dialog"],angular.module("starter").directive("mapPhotoUser",e)}(),function(){"use strict";function e(e,t,n){var o=t.path;return{restrict:"A",scope:{user:"="},link:function(t,i,a){function r(){e.fromTemplateUrl(o+"/directive/follow/photogram.follow.modal.html",{scope:t}).then(function(e){t.modalFollow=e,console.log("Open modal follow",t.user),n.getFollow(t.user).then(function(e){console.log(e),t.data=e,t.modalFollow.show()})})}function s(){t.modalFollow.hide(),t.modalFollow.remove()}i.bind("click",r),t.closeModal=s}}}e.$inject=["$ionicModal","AppConfig","Photogram"],angular.module("starter").directive("photogramFollow",e)}(),function(){"use strict";function e(e,t,n,o,i,a){function r(r,s,l){function c(){r.loading||(r.loading=!0,e.feed(r.params).then(function(e){e.length>0?(r.params.page++,e.map(function(e){r.data.push(e)})):(0===r.data.length&&(r.showEmptyView=!0),r.moreDataCanBeLoaded=!1),r.loading=!1,t.$broadcast("scroll.infiniteScrollComplete"),t.$broadcast("scroll.refreshComplete")})["catch"](function(){0===r.data.length&&(r.showErrorView=!0),r.$broadcast("scroll.refreshComplete")}))}function u(){r.params={},r.params.page=1,r.data=[],r.loading=!1,r.moreDataCanBeLoaded=!0,r.showEmptyView=!1,r.showErrorView=!1,r.canEdit&&r.data.push({create:!0})}u(),r.username&&(r.params.username=r.username),t.$on("photoInclude",function(e,t){t.objectId&&(t.id=t.objectId),r.data.unshift(t)}),t.$on("gallery:search",function(e,t){console.log(e,t),r.params.search=t.text,r.onReload()}),c(),r.onLoadMore=function(){c()},r.onReload=function(){u(),c(),r.$broadcast("scroll.refreshComplete")},r.action=function(t){function s(a){switch(a){case 0:o.share(u);break;case 1:i.modal(t);break;case 2:n.confirm({title:"Delete photo",template:"Are you sure?"}).then(function(n){n&&e.destroy(t).then(function(){console.log("Photo deleted"),r.$emit("PhotogramHome:reload")})})}return!0}var l=[{text:'<i class="icon ion-share"></i>Share'},{text:'<i class="icon ion-alert-circled"></i>Report'}];if(console.log(t),Parse.User.current().id===t.user_id){var c={text:'<i class="icon ion-trash-b"></i>Delete your photo'};l.push(c)}var u={text:t.title,image:t.img},d={buttons:l,titleText:"Photo",cancelText:"Cancel",buttonClicked:s};a.show(d)}}return{restrict:"E",scope:{username:"=",user:"=",profile:"=",onReload:"="},templateUrl:"app/directive/photoGridDirective.html",link:r}}e.$inject=["Gallery","$rootScope","$ionicPopup","Share","FeedbackModal","$ionicActionSheet"],angular.module("starter").directive("photoGrid",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",scope:{ngModel:"=",loading:"="},link:function(t,n){n.bind("click",function(){if(!t.loading){var n=t.ngModel;n.progress=!0,n.liked=!n.liked,t.loading=!0,e.likeGallery({galleryId:t.ngModel.id}).then(function(e){n.likes=e.likes,n.progress=!1,"like"===e.action&&(t.ngModel.isLiked=!0,t.ngModel.likesTotal+=1),"unlike"===e.action&&(t.ngModel.isLiked=!1,t.ngModel.likesTotal-=1),t.loading=!1,t.$apply()})}})}}}e.$inject=["Gallery","$timeout"],angular.module("starter").directive("photoLike",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c){function u(u,d,m){function p(){u.loading||(u.loading=!0,e.feed(u.params).then(function(e){e.length>0?(u.params.page++,e.map(function(e){e.album?e.canEdit=h.id===e.album.attributes.user.id?!0:!1:e.canEdit=!1,u.data.push(e)})):(0===u.data.length&&(u.showEmptyView=!0),u.moreDataCanBeLoaded=!1),u.loading=!1,t.$broadcast("scroll.infiniteScrollComplete"),t.$broadcast("scroll.refreshComplete")})["catch"](function(e){0===u.data.length&&(u.showErrorView=!0),u.$broadcast("scroll.refreshComplete")}))}function g(){u.params.page=1,u.data=[],u.loading=!1,u.moreDataCanBeLoaded=!0,u.showEmptyView=!1,u.showErrorView=!1,u.canEdit&&u.data.push({create:!0})}u.params={},t.$on("photolist:reload",function(e,t){console.log("Reload photolist",t),t&&(u.params.privacity=t),g(),p()}),u.type&&(u.params.privacity=u.type),g();var h=Parse.User.current();u.username&&(u.params.username=u.username),u.id&&(u.params.id=u.id),t.$on("photoInclude",function(e,t){t.objectId&&(t.id=t.objectId),u.data.unshift(t)}),u.openComment=function(e){a.go("galleryComments",{galleryId:e})},u.share=function(e){var t={title:e.title,image:e.image.url(),userName:e.user.name,url:"http://market.ionic.io/starters/photogram-ionic-instagram-clone"};console.log(e,t),r.open()},p(),u.onLoadMore=function(){p()},u.onReload=function(){g(),p(),u.$broadcast("scroll.refreshComplete")},t.$on("onUserLogged",u.onReload),u.action=function(t){function a(a){switch(a){case 0:l.modal(t.id);break;case 1:o.confirm({title:i.instant("deleteGalleryConfirmText"),template:i.instant("areSure")}).then(function(o){o&&(n.start(),e.get(t.id).then(function(t){t?e.destroy(t).then(function(){console.log("Photo deleted"),s.alert({title:"Photo",text:"Photo deleted"}),u.onReload(),n.end()}):(u.onReload(),n.end())})["catch"](function(){u.onReload(),n.end()}))})}return!0}var r=[{text:'<i class="icon ion-alert-circled"></i>'+i.instant("reportText")}];if(console.log(t),Parse.User.current().id===t.user.id){var d={text:'<i class="icon ion-trash-b"></i>'+i.instant("deleteGallery")};r.push(d)}var m=({text:t.title,image:t.img},{buttons:r,cancelText:i.instant("cancelText"),buttonClicked:a});c.show(m)}}return{restrict:"E",scope:{username:"=",profile:"=",load:"=",openLikers:"=",onReload:"=",id:"=",type:"="},templateUrl:"app/directive/photoListDirective.html",link:u}}e.$inject=["Gallery","$rootScope","Loading","$ionicPopup","$translate","$state","Share","Toast","FeedbackModal","$ionicActionSheet"],angular.module("starter").directive("photoList",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){return{restrict:"A",scope:{user:"="},template:"",link:function(s,l){function c(){s.theme=t.theme;var e=Parse.User.current().attributes;s.form={name:e.name,email:e.email,status:e.status,photo:e.photo,username:e.username,gender:e.gender,facebook:e.facebook}}function u(){s.linkFacebook=m,s.logout=d,s.submitUpdateProfile=p,s.closeModal=g,s.currentUser=t.currentUser,c(),e.fromTemplateUrl("app/directive/profile-edit-modal.html",{scope:s}).then(function(e){s.modal=e,s.modal.show()}),s.$on("$destroy",function(){s.modal.remove()})}function d(){delete window.localStorage["Parse/myAppId/currentUser"],delete window.localStorage["Parse/myAppId/installationId"],o.$reset({}),r.go("user.intro",{clear:!0}),s.closeModal()}function m(){i.facebookLink().then(function(e){console.log(e)})}function p(){var e=angular.copy(s.form);a.start();var o=Parse.User.current().username;o!=e.username&&(n.unsubscribe(o),n.subscribe(o)),i.update(e).then(function(e){s.user=e,t.currentUser=e,a.end(),s.closeModal()})}function g(){s.modal.hide()}l.bind("click",u)}}}e.$inject=["$ionicModal","$rootScope","ParsePush","$localStorage","User","Loading","$state"],angular.module("starter").directive("profileModalEdit",e)}(),function(){"use strict";function e(e,t){function n(n,o){function i(){console.log(n.user.attributes),e.fromTemplateUrl("app/directive/profile-modal.html",{scope:n}).then(function(e){function o(){n.loadingFollow=!0;var e;e=n.user.follow?!1:!0,t.follow(n.user.userObj.id).then(function(e){console.log("Follow result",e),n.user.isFollow="follow"===e?!0:!1,"follow"==e&&(n.user.followersTotal+=1),"unfollow"==e&&(n.user.followersTotal-=1),n.loadingFollow=!1})}function i(){delete n.data,n.modalProfile.hide()}n.modalProfile=e,n.loadingFollow=!0,n.changeTab=a,n.follow=o,n.closeModal=i,n.modalProfile.show(),a("list")}),n.$on("$destroy",function(){n.modalProfile.remove()})}function a(e){"list"===e?n.tab={list:!0,grid:!1}:n.tab={list:!1,grid:!0}}o.bind("click",function(){console.log(n.username),t.profile(n.username).then(function(e){console.log(e),n.user=e,i()})})}return{restrict:"A",scope:{username:"="},link:n}}e.$inject=["$ionicModal","User"],angular.module("starter").directive("profileModal",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{getData:"&source",ngModel:"=?",search:"=?filter"},templateUrl:"app/module/photogram/directive/search/search-directive.html",link:function(t,n,o){function i(n){n.length>o.minLength?e(function(){t.getData({str:n}).then(function(e){t.ngModel=e})},1e3):t.ngModel=[]}o.minLength=o.minLength||0,t.placeholder=o.placeholder||"",t.clear=function(){console.log("Limpar campo"),t.input="",t.$apply()},o["class"]&&n.addClass(o["class"]),o.source&&t.$watch("search.value",i)}}}e.$inject=["$timeout"],angular.module("starter").directive("ionSearch",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l){return{restrict:"A",template:"",link:function(i,c){function u(){i.form=r.getLoggedUser(),i.languages=n.locales,i.language=t.use()}function d(){u(),e.fromTemplateUrl("app/directive/settings-modal.html",{scope:i}).then(function(e){i.modalSetting=e,i.modalSetting.show()}),i.$on("changeLanguage",function(e,n){s.update({lang:n}),console.log(n),o.changeLocale(n.code),t.use(n.code)}),i.closeSettingModal=function(){i.modalSetting.hide(),i.modalSetting.remove()},i.link=function(e){l.go(e),i.closeModal()}}c.bind("click",d),i.share=a.share,i.logout=function(){l.go("logout"),i.closeSettingModal()}}}}e.$inject=["$ionicModal","$translate","AppConfig","amMoment","$cordovaInAppBrowser","Share","Auth","User","$state"],angular.module("starter").directive("settingsModal",e)}(),function(){"use strict";function e(e){function t(t,n,o,i){i.$asyncValidators.username=function(t,n){return n?e.validateUsername(n):void 0}}return{require:"ngModel",restrict:"A",link:t}}e.$inject=["User"],angular.module("starter").directive("usernameValidator",e)}(),function(){"use strict";function e(){return{restrict:"AEC",require:"^form",link:function(e,t,n,o){for(var i=t.find("*"),a=0;a<i.length;a++)!function(n){var i=n.attributes;if(void 0!=i.getNamedItem("ng-model")&&void 0!=i.getNamedItem("name")){var a=o[i.name.value];void 0!=a&&e.$watch(function(){return o.$submitted+"_"+a.$valid},function(){if(1==o.$submitted){var e=angular.element(n);e.hasClass("ng-invalid")?(t.removeClass("has-success"),t.addClass("has-error")):t.removeClass("has-error").addClass("has-success")}})}}(i[a])}}}angular.module("starter").directive("validated",e)}(),function(){"use strict";function e(e,t){return{require:"^form",restrict:"A",link:function(t,n,o,i){i.$submitted=!1;var a=e(o.onSubmit);n.on("submit",function(e){t.$apply(function(){n.addClass("ng-submitted"),i.$submitted=!0,i.$valid&&"function"==typeof a&&a(t,{$event:e})})})}}}e.$inject=["$parse","$timeout"],angular.module("starter").directive("onSubmit",e)}(),function(){"use strict";function e(e){return function(t,n){if(!t)return t;var o=e("linky")(t,n),i="";angular.isDefined(n)&&(i=n);var a=/(^|\s)#(\w*[a-zA-Z_]+\w*)/gim;o=t.replace(a,'$1<a href="#/tab/search/%23$2"'+i+">#$2</a>");var r=/(^|\s)\@(\w*[a-zA-Z_]+\w*)/gim;return o=o.replace(r,'$1<a href="#/tab/home/$2" >@$2</a>')}}e.$inject=["$filter"],angular.module("starter").filter("hashtag",e)}(),function(){"use strict";function e(){return function(e,t){if(isNaN(t))return e;if(0>=t)return"";if(e){var n=e.split(/\s+/);n.length>t&&(e=n.slice(0,t).join(" ")+"")}return e}}angular.module("starter").filter("words",e)}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t,n,o){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},o=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return 12>e?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return o}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"});return t}),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],ERANAMES:["Antes de Cristo","Ano do Senhor"],ERAS:["a.C.","d.C."],FIRSTDAYOFWEEK:6,MONTH:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","sb"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],STANDALONEMONTH:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss","short":"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"pt-br",pluralCat:function(e,n){return e>=0&&2>=e&&2!=e?t.ONE:t.OTHER}})}]),function(){"use strict";var e=window.moment.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segs",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"});return e}(),function(){"use strict";function e(e,t,n,o){function i(){var e=o.defer();return a({title:"Choose an option",cancelText:"Cancel",options:[{text:"Photo Library"},{text:"Photo"}]}).then(function(e){var n;return 1===e&&(n="photoLibrary"),2===e&&(n="camera"),t.getPicture({sourceType:n})}).then(e.resolve)["catch"](e.reject),e.promise}function a(t){var i=o.defer();if(window.cordova){var a={title:t.title,buttonLabels:_.map(t.options,function(e){return e.text}),addCancelButtonWithLabel:t.cancelText,androidEnableCancelButton:!0,androidTheme:window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT};n.show(a).then(function(e){3!==e&&i.resolve(e),i.reject("cancel")})}else var r=e.show({buttons:t.options,titleText:t.title,cancelText:t.cancelText,cancel:function(){r()},buttonClicked:function(e){r(),3!==e&&i.resolve(e),i.reject("cancel")}});return i.promise}return{show:a,image:i}}e.$inject=["$ionicActionSheet","Camera","$cordovaActionSheet","$q"],angular.module("starter").factory("ActionSheet",e)}(),function(){"use strict";angular.module("starter").factory("Auth",["Parse","$q",function(e,t){function n(){return e.User.current()}function o(e){c=e}function i(){var n=t.defer();return null===c?(n.reject("Session token invalid"),n.promise):(e.User.current()?n.resolve(e.User.current()):e.User.become(c).then(n.resolve,n.reject),n.promise)}function a(n){var o=t.defer();return e.User.requestPasswordReset(n,{success:o.resolve,error:o.reject}),o.promise}function r(n){var o=t.defer();return e.User.requestPasswordReset(n,{success:o.resolve,error:o.reject}),o.promise}function s(n){var o=t.defer();return e.User.logIn(n.username,n.password,{success:o.resolve,error:o.reject}),o.promise}function l(){var n=t.defer();return e.User.logOut().then(n.resolve,n.reject),n.promise}var c=null;return{getLoggedUser:n,setSessionToken:o,ensureLoggedIn:i,recoverPassword:a,resetPassword:r,logIn:s,logOut:l}}])}(),function(){"use strict";function e(e,t){function n(n){var o=t.defer();if(window.cordova){var i=n.sourceType||Camera.PictureSourceType.CAMERA;"photoLibrary"===n.sourceType&&(i=Camera.PictureSourceType.PHOTOLIBRARY),"camera"===n.sourceType&&(i=Camera.PictureSourceType.CAMERA);var a={quality:70,targetWidth:800,targetHeight:800,saveToPhotoAlbum:!1,correctOrientation:!0,sourceType:i,destinationType:Camera.DestinationType.DATA_URL,encodingType:Camera.EncodingType.JPEG};e.getPicture(a).then(o.resolve,o.reject)}else{console.log("Input File");var r=angular.element('<input type="file" accept="image/x-png, image/gif, image/jpeg" max-size="2048" />');r[0].click(),r.on("change",function(e){var t=e.currentTarget.files[0],n=new FileReader;n.onload=function(e){o.resolve(e.target.result)},n.readAsDataURL(t)})}return o.promise}function o(e,n,o){var i=t.defer();return window.imageResizer.resizeImage(i.resolve,i.reject,e,n||1,o||1,{imageDataType:ImageResizer.IMAGE_DATA_TYPE_URL,resizeType:ImageResizer.RESIZE_TYPE_FACTOR,format:"jpg"}),i.promise}function i(e,n,o){var i=t.defer();return window.imageResizer.resizeImage(i.resolve,i.reject,e,n||640,o||640,{imageDataType:ImageResizer.IMAGE_DATA_TYPE_URL,resizeType:ImageResizer.RESIZE_TYPE_MIN_PIXEL,pixelDensity:!0,storeImage:!1,photoAlbum:!1,format:"jpg"}),i.promise}return{getPicture:n,resizeImage:i,toBase64Image:o}}e.$inject=["$cordovaCamera","$q"],angular.module("starter").service("Camera",e)}(),function(){"use strict";function e(e,t){function n(){ionic.Platform.isWebView()?(e.onLine=t.isOnline(),e.$apply(),e.$on("$cordovaNetwork:online",function(t,n){console.log("went online"),e.onLine=!0,e.$apply()}),e.$on("$cordovaNetwork:offline",function(t,n){console.log("went offline"),e.onLine=!1,e.$apply()})):(e.onLine=navigator.onLine,e.$apply(),window.addEventListener("online",function(t){console.log("went online"),e.onLine=!0,e.$apply()},!1),window.addEventListener("offline",function(t){console.log("went offline"),e.onLine=!1,e.$apply()},!1))}return{watch:n}}e.$inject=["$rootScope","$cordovaNetwork"],angular.module("starter").factory("ConnectMonitor",e)}(),function(){"use strict";function e(){function e(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function t(e){return new Date(e).toLocaleDateString()}function n(){var e=new Date,t="00",n=e.getFullYear(),o=(t+(e.getMonth()+1)).slice(-t.length),i=(t+e.getDate()).slice(-t.length);return n+"-"+o+"-"+i}function o(e){var t=new Date(e),n="00",o=t.getFullYear(),i=(n+(t.getMonth()+1)).slice(-n.length),a=(n+t.getDate()).slice(-n.length);return o+"-"+i+"-"+a}function i(e){var t=["Janeiro","Feveiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return t[e.getMonth()]}function a(e){
var t=e.getFullYear(),n=e.getMonth();return new Date(t,n,1)}function r(e){var t=e.getFullYear(),n=e.getMonth()+1;return new Date(t,n,0)}return{parseData:e,parseString:t,getDate:n,formatDate:o,getMonthName:i,getFirstDay:a,getLastDay:r}}angular.module("starter").factory("DataUtil",e)}(),function(){"use strict";function e(e,t,n){function o(o,i){var a=n.defer();return window.cordova?e.alert(o,i).then(a.resolve):t.alert({title:i,template:o}),a.promise}function i(o){var i=n.defer();return window.cordova?e.confirm(o.message,o.title,o.buttonsText).then(function(e){console.log(e),1===e&&i.resolve(!0),i.reject(!0)}):t.confirm({title:o.title,template:o.message}).then(function(e){e?i.resolve(!0):i.reject(!0)}),i.promise}return{alert:o,confirm:i}}e.$inject=["$cordovaDialogs","$ionicPopup","$q"],angular.module("starter").service("Dialog",e)}(),function(){"use strict";function e(e,t,n){function o(){return g.getLoginStatus()}function i(){return console.log("facebook login",g),g.login(["public_profile","email"])}function a(){var t=e.defer();return n.logout().then(t.resolve,t.reject),t.promise}function r(t){var n=e.defer(),o={method:"feed",name:t.title,link:"https://photogram.codevibe.io/",picture:t.image._url,caption:t.title,description:t.title,message:""};return console.log(o),g.ui(o,n.resolve),n.promise}function s(t){var n=e.defer();return g.api("/me/feed","post",{message:t.title,link:t.image._url,picture:t.image._url,published:!0},n.resolve),n.promise}function l(){var t=e.defer();return g.api("/me/friends",t.resolve),t.promise}function c(){var t=e.defer();return window.cordova?n.api("me?fields=name,first_name,last_name,gender,email",["public_profile"]).then(t.resolve,t.reject):g.api("/me",{fields:"name, first_name, last_name, gender, email"}).then(function(e){!e||e.error?t.reject(e.error):t.resolve(e)}),t.promise}function u(){var t=e.defer();return window.cordova?g.showDialog({method:"apprequests",message:"Venha para o nosso clube!"}).then(t.resolve,t.reject):g.ui({method:"apprequests",message:"Venha para o nosso clube!"}).then(t.resolve,t.reject),t.promise}function d(){var t=e.defer();return g.api("me/friends").then(t.resolve,t.reject),t.promise}function m(t){var n=e.defer();return g.api(t).then(n.resolve,n.reject),n.promise}function p(t){var n=e.defer();return t?g.login(["email"]).then(function(e){console.log("facebook login",e),console.log(t,e,data),Parse.FacebookUtils.link(t,{id:String(e.authResponse.userID),access_token:e.authResponse.accessToken,expiration_date:((new Date).getTime()+1e3).toString()},{success:function(t){console.log("User",t),t.set("facebook",e.authResponse.userID),t.set("facebookimg","https://graph.facebook.com/"+e.authResponse.userID+"/picture?width=250&height=250"),t.set("facebook_complete",Boolean(!0)),t.save().then(n.resolve)}})},n.resolve):n.reject("not logged"),n.promise}var g=window.cordova?n:t;return{logIn:i,logOut:a,me:c,invite:u,friends:d,api:m,getCurrentUser:o,getFriends:l,postImage:r,postImage1:s,link:p}}e.$inject=["$q","$facebook","$cordovaFacebook"],angular.module("starter").service("Facebook",e)}(),function(){"use strict";angular.module("starter").factory("GalleryActivity",["Parse","$translate",function(e,t){function n(t){return e.Cloud.run("feedActivity",t)}function o(t){var n=new e.Query(this);if(""!=t.filter&&n.contains("words",t.filter),t.order&&(t.order.indexOf("-")<-1?n.ascending(t.order):n.descending(t.order.replace("-"))),t.date&&null!==t.date){var o=moment(t.date).startOf("day"),i=moment(t.date).endOf("day");n.greaterThanOrEqualTo("createdAt",o.toDate()),n.lessThanOrEqualTo("createdAt",i.toDate())}return t.status&&null!==t.status&&("pending"===t.status?n.doesNotExist("isApproved"):"rejected"===t.status?n.equalTo("isApproved",!1):"approved"===t.status&&n.equalTo("isApproved",!0)),n.include(["gallery","fromUser","toUser"]),n.limit(t.limit),n.skip(t.page*t.limit-t.limit),n.find()}function i(t){return new e.Query(this).include("profile").get(t)}function a(n){if(n.address&&n.address.geo&&(n.location=new e.GeoPoint(n.address.geo)),n.lang=t.use(),n.id)return n.save();var o=new l;return o.save(n)}function r(e){return e.destroy()}var s=["title","gallery","image","imageThumb","fromUser","toUser"],l=e.Object.extend("GalleryActivity",{},{get:i,create:a,update:a,destroy:r,feed:n,all:o});return s.map(function(e){Object.defineProperty(l.prototype,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)}})}),Object.defineProperty(l.prototype,"location",{get:function(){return this.get("location")},set:function(t){this.set("location",new e.GeoPoint({latitude:t.latitude,longitude:t.longitude}))}}),l}])}(),function(){"use strict";function e(e,t){function n(t){return e.Cloud.run("listAlbum",t)}function o(t){return e.Cloud.run("photoAlbum",t)}function i(t){return new e.Query(this).include("profile").get(t)}function a(n){if(n.address&&n.address.geo&&(n.location=new e.GeoPoint(n.address.geo)),n.lang=t.use(),n.id)return n.save();var o=new l;return o.save(n)}function r(e){return e.destroy()}var s=["title","qtyPhotos","image","imageThumb"],l=e.Object.extend("GalleryAlbum",{},{get:i,create:a,update:a,destroy:r,photos:o,list:n});return s.map(function(e){Object.defineProperty(l.prototype,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)}})}),Object.defineProperty(l.prototype,"location",{get:function(){return this.get("location")},set:function(t){this.set("location",new e.GeoPoint({latitude:t.latitude,longitude:t.longitude}))}}),l}e.$inject=["Parse","$translate"],angular.module("starter").factory("GalleryAlbum",e)}(),function(){"use strict";function e(e,t){function n(t){var n=new e.Query(this);return n.include("user"),n.ascending("createdAt"),n.equalTo("gallery",t.gallery),n.limit(t.limit),n.skip(t.page*t.limit-t.limit),n.find()}function o(t){return new e.Query(this).include("profile").get(t)}function i(n){if(n.address&&n.address.geo&&(n.location=new e.GeoPoint(n.address.geo)),n.lang=t.use(),n.id)return n.save();var o=new s;return o.save(n)}function a(e){return e.destroy()}var r=["text","user"],s=e.Object.extend("GalleryComment",{},{get:o,create:i,update:i,destroy:a,all:n});return r.map(function(e){Object.defineProperty(s.prototype,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)}})}),Object.defineProperty(s.prototype,"location",{get:function(){return this.get("location")},set:function(t){this.set("location",new e.GeoPoint({latitude:t.latitude,longitude:t.longitude}))}}),s}e.$inject=["Parse","$translate"],angular.module("starter").factory("GalleryComment",e)}(),function(){"use strict";function e(e,t){function n(t){return e.Cloud.run("likeGallery",{galleryId:t.galleryId})}function o(t){return e.Cloud.run("followUser",t)}function i(t){return e.Cloud.run("searchGallery",t)}function a(t){return e.Cloud.run("feedGallery",t)}function r(t){return e.Cloud.run("commentGallery",t)}function s(t){return e.Cloud.run("getAlbum",t)}function l(t){var n=new e.Query(this);return t.order&&(t.order.indexOf("-")<-1?n.ascending(t.order):n.descending(t.order.replace("-"))),t.status&&null!==t.status&&("pending"===t.status?n.doesNotExist("isApproved"):"rejected"===t.status?n.equalTo("isApproved",!1):"approved"===t.status&&n.equalTo("isApproved",!0)),n.limit(t.limit),n.skip(t.page*t.limit-t.limit),n.find()}function c(t){return new e.Query(this).include("profile").get(t)}function u(n){if(n.address&&n.address.geo&&(n.location=new e.GeoPoint(n.address.geo)),n.lang=t.use(),n.id)return n.save();var o=new p;return o.save(n)}function d(e){return e.destroy()}var m=["title","commentsTotal","likesTotal","user","profile","hashtags","words","privacity","address","lang","image","imageThumb","isApproved","expiresAt","icon"],p=e.Object.extend("Gallery",{},{get:c,create:u,update:u,destroy:d,all:l,comments:r,getAlbum:s,feed:a,search:i,follow:o,likeGallery:n});return m.map(function(e){Object.defineProperty(p.prototype,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)}})}),Object.defineProperty(p.prototype,"location",{get:function(){return this.get("location")},set:function(t){this.set("location",new e.GeoPoint({latitude:t.latitude,longitude:t.longitude}))}}),p}e.$inject=["Parse","$translate"],angular.module("starter").factory("Gallery",e)}(),function(){"use strict";function e(e,t){function n(n){if(n.address&&n.address.geo&&(n.location=new e.GeoPoint(n.address.geo)),n.lang=t.use(),n.id)return n.save();var o=new i;return o.save(n)}var o=["subject","message","user"],i=e.Object.extend("GalleryFeedback",{},{create:n});return o.map(function(e){Object.defineProperty(i.prototype,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)}})}),Object.defineProperty(i.prototype,"location",{get:function(){return this.get("location")},set:function(t){this.set("location",new e.GeoPoint({latitude:t.latitude,longitude:t.longitude}))}}),i}e.$inject=["Parse","$translate"],angular.module("starter").factory("GalleryFeedback",e)}(),function(){"use strict";function e(e,t){function n(n){var o=t.defer();return e.ready(function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){console.log(e),o.resolve(e)},function(e){o.reject(e)},{timeout:3e4,enableHighAccuracy:!0,maximumAge:75e3})}),o.promise}return{getCurrentPosition:n}}e.$inject=["$ionicPlatform","$q"],angular.module("starter").factory("Geolocation",e)}(),function(){"use strict";function e(e,t){function n(n,o){var i=t.defer(),a="file.jpg";return o&&a.replace(".jpg",o),new e.File(a,n).save({success:i.resolve,error:i.reject}),i.promise}return{upload:n}}e.$inject=["Parse","$q"],angular.module("starter").factory("ParseFile",e)}(),function(){"use strict";function e(e,t){function n(){var e=t.defer();return window.ParsePushPlugin?ParsePushPlugin.getInstallationId(function(t){console.log("device installationId: "+t),i(),e.resolve(t)},function(t){console.log("error",t),e.reject(t)}):e.reject("Not Parse Push"),e.promise}function o(){var e=t.defer();return ParsePushPlugin.getSubscriptions(function(t){console.log(t),e.resolve(t)},function(t){console.log("error",t),e.reject(t)}),e.promise}function i(){var n=t.defer(),o=e.User.current();return window.ParsePushPlugin&&o?r(o.username):n.reject("Not device"),n.promise}function a(e,t){window.ParsePushPlugin&&ParsePushPlugin.on(e,t)}function r(e){var n=t.defer();return window.ParsePushPlugin&&ParsePushPlugin.subscribe(e,function(t){console.log("Subcribe in channel",e),n.resolve(t)},function(t){console.log("Not Subcribe in channel",e),n.reject(t)}),n.promise}function s(e){var n=t.defer();return window.ParsePushPlugin&&ParsePushPlugin.unsubscribe(e,function(t){console.log("Unsubcribe in channel",e),n.resolve(t)},function(t){console.log("Not Unsubcribe in channel",e),n.reject(t)}),n.promise}return{init:n,on:a,subscribe:r,getSubscriptions:o,unsubscribe:s,subscribeUser:i}}e.$inject=["Parse","$q"],angular.module("starter").factory("ParsePush",e)}(),function(){"use strict";function e(e,t){function n(e){o.initialize(e.appId),o.serverURL=e.server,t.currentUser=o.User.current()}var o=e.Parse;return o.init=n,o}e.$inject=["$window","$rootScope"],angular.module("starter").factory("Parse",e)}(),function(){"use strict";function e(e){function t(t){window.cordova&&t?e.share(t.title,t.userName,t.image,t.url).then(function(e){console.log(e)},function(e){console.warn(e)}):console.warn("["+n+"] Unsupported platform")}var n="ShareService";return{open:t}}e.$inject=["$cordovaSocialSharing"],angular.module("starter").factory("Share",e)}(),function(){"use strict";function e(e,t){function n(n){window.cordova?e.show(n.text,"short","bottom"):t.alert({title:n.title,template:n.text,okType:"button button-clear button-assertive"})}function o(e,n){return t.confirm({title:e,template:n})}return{alert:n,confirm:o}}e.$inject=["$cordovaToast","$ionicPopup"],angular.module("starter").factory("Toast",e)}(),function(){"use strict";function e(e,t,n,o,i,a){function r(){var t=e.defer();return i.User.current()?i.User.current().fetch().then(t.resolve,t.reject):t.reject(),t.promise}function s(e){var n=i.User.current();return e.lang=t.use(),angular.forEach(e,function(e,t){n.set(t,e)}),n.save()}function l(e){return i.User.current().set({photo:e}).save()}function c(e){return i.User.requestPasswordReset(e)}function u(t){console.log(t);var n=e.defer();return new i.Query("UserData").equalTo("user",t).first().then(function(e){e?n.resolve(e):n.reject(i.Promise.error({code:1,message:"User Data not found"}))},n.reject),n.promise}function d(){console.log(i.applicationId),delete n.localStorage["Parse/"+i.applicationId+"/currentUser"],delete n.localStorage["Parse/"+i.applicationId+"/installationId"]}function m(t){var n=e.defer();return i.Cloud.run("saveFacebookPicture",{}).then(function(){var e=i.User.current();!t.username&&t.email&&e.set({username:t.email.split("@")[0]}),!e.get("name")&&t.name&&e.set({name:t.name}),!e.get("email")&&t.email&&e.set({email:t.email}),e.save(null,{success:function(){e.fetch().then(n.resolve,n.reject)}})})["catch"](n.reject),n.promise}function p(e){var t={id:e.authResponse.userID,access_token:e.authResponse.accessToken,expiration_date:((new Date).getTime()+1e3).toString()};return i.FacebookUtils.logIn(t)}function g(e){return(new i.User).set({name:e.name}).set({username:e.username}).set({email:e.email}).set({password:e.password}).set({roleName:"User"}).signUp(null)}function h(n){var r=e.defer();return i.User.logIn(n.username.toLowerCase(),n.password,{success:function(e){var n;if(window.cordova)n={device:o.getDevice(),cordova:o.getCordova(),model:o.getModel(),platform:o.getPlatform(),uuid:o.getUUID(),version:o.getVersion()};else{var s=window.navigator.userAgent.match(/(?:Chrom(?:e|ium)|Firefox)\/([0-9]+)\./);n={device:{device:s?s[0]:"emulator"},cordova:"",model:s?s[0]:"emulator",platform:window.navigator.platform,uuid:"",version:s?s[0]:"emulator"}}n.lang=t.use(),window.cordova&&a.init(),i.User.update(n).then(function(){r.resolve(e)})["catch"](r.reject)},error:r.reject}),r.promise}function f(e){return i.Cloud.run("destroyUser",e)}function v(e){return i.Cloud.run("validateEmail",{email:e})}function b(e){return i.Cloud.run("validateUsername",{username:e})}function w(e){return i.Cloud.run("getUsers",e)}function y(e){return i.Cloud.run("followUser",{userId:e})}function k(e){return i.Cloud.run("findUserByEmail",{email:e})}function _(e){return i.Cloud.run("profile",{username:e})}function M(e){return i.Cloud.run("listUsers",e)}function $(e){return i.Cloud.run("getFollowers",{username:e})}function C(e){return i.Cloud.run("getLikers",{galleryId:e})}function x(e){return i.Cloud.run("getFollowing",{username:e})}var P=["name","username","status","gender","email","photo","photoThumb","roleName"],T=i.User.extend({},{profile:_,list:M,getFollowers:$,getLikers:C,getFollowing:x,signIn:h,signUp:g,signInViaFacebook:p,updateWithFacebookData:m,logOut:d,findByEmail:k,getPublicData:u,recoverPassword:c,destroy:f,setPhoto:l,follow:y,all:w,validateUsername:b,validateEmail:v,update:s,fetch:r});return P.map(function(e){Object.defineProperty(T.prototype,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)}})}),Object.defineProperty(T.prototype,"location",{get:function(){return this.get("location")},set:function(e){this.set("location",new i.GeoPoint({latitude:e.latitude,longitude:e.longitude}))}}),T}e.$inject=["$q","$translate","$window","$cordovaDevice","Parse","ParsePush"],angular.module("starter").factory("User",e)}(),function(e,t,n,o,i){"use strict";var a={color:"#1D5ECE",bgcolor:"#eaeaea",semi:!1,rounded:!1,clockwise:!0,radius:"15",stroke:"5",max:100,iterations:50,animation:"easeOutCubic",interval:200,showProgressCircleInBrowser:!0,showProgressCircleInDevice:!0};t.module("ionic-cache-src",["ionic","angular-svg-round-progressbar","ngCordova","ngStorage"]).provider("$cacheSrc",function(){this.config=a,this.set=function(e,n){var o=typeof e;return"object"==o?t.extend(this.config,e):"string"==o&&(this.config[e]=n),this},this.$get=function(){return this.config}}).factory("cacheSrcStorage",["$localStorage",function(e){var t={};return t._cache=e.cache_src,t.get=function(e){return t._cache[e]&&getCacheDir()+t._cache[e]},t.set=function(e,n){return t._cache[e]=n,t},t}]).directive("cacheSrc",["$ionicPlatform","$interval","$timeout","$compile","$cacheSrc","$cordovaFileTransfer","$localStorage","$cordovaNetwork",function(e,i,a,r,s,l,c,u){return{restrict:"A",scope:{onProgress:"=?",onFinish:"=?",onError:"=?"},link:function(a,u,d){function m(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;16>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function p(e,n){return t.element(n('<div style="text-align:{{textAlign}}"><div round-progress  max="max"  current="progress"  color="{{color}}" bgcolor="{{bgcolor}}"  radius="{{radius}}"  stroke="{{stroke}}"  rounded="rounded" clockwise="clockwise" iterations="{{iterations}}"  animation="{{animation}}"></div></div>')(e))}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];if(0===e.indexOf(o))return!0}return!1}function h(e){return g(e,["http://","https://","ftp://"])?!0:!1}function f(e,t){e.progress=0,e.max=100,e.radius=t.radius,e.stroke=t.stroke,e.animation=t.animation,e.clockwise=t.clockwise,e.color=t.color,e.bgcolor=t.bgcolor,e.rounded=t.rounded,e.iterations=t.iterations,e.textAlign="center"}var v=o.Platform.isIOS(),b=o.Platform.isAndroid();if(n&v||b){var w,y,k=function(){switch(device.platform){case"iOS":return n.file.documentsDirectory;case"Android":return n.file.dataDirectory}return""},_={};t.extend(_,s),t.extend(_,d),f(a,_),a.onProgress=a.onProgress||function(){},a.onFinish=a.onFinish||function(){},a.onError=a.onError||function(){};var M=c.cache_src=c.cache_src||{},$=function(e){_.showProgressCircleInDevice&&(u.css("display",y),w.remove()),C(e)},C=function(e){u[0][_.srcIs||"src"]=e,a.onFinish(e)};d.$observe("cacheSrc",function(){d.cacheSrc&&(h(d.cacheSrc)?M[d.cacheSrc]?e.ready().then(function(){C(k()+M[d.cacheSrc])}):(_.showProgressCircleInDevice&&(w=p(a,r),y=u.css("display"),u.css("display","none"),u.after(w)),e.ready().then(function(){var e="."+d.cacheSrc.split(".").pop(),t=m()+e;l.download(d.cacheSrc,k()+t,{},!0).then(function(e){M[d.cacheSrc]=t,$(k()+t)},a.onError,function(e){a.progress=e.loaded/e.total*100,a.onProgress(a.progress)})})):C(d.cacheSrc))})}else{var w=p(a,r),_={};t.extend(_,s),t.extend(_,d),f(a,_),a.onProgress=a.onProgress||function(){},a.onFinish=a.onFinish||function(){},d.$observe("cacheSrc",function(){if(d.cacheSrc)if(h(d.cacheSrc)){if(_.showProgressCircleInBrowser){var e=u.css("display");u.css("display","none"),u.after(w)}var t=i(function(){a.progress+=10,a.onProgress(a.progress),100==a.progress&&(i.cancel(t),_.showProgressCircleInBrowser&&(u.css("display",e),w.remove()),u[0][_.srcIs||"src"]=d.cacheSrc,a.onFinish(d.cacheSrc))},_.interval)}else u[0][_.srcIs||"src"]=d.cacheSrc,a.onFinish(d.cacheSrc)})}}}}])}(window,window.angular,window.cordova,window.ionic),function(){"use strict";!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+o)},o);return e=n+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)})}(),angular.module("angular-svg-round-progressbar",[]),angular.module("angular-svg-round-progressbar").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0}),angular.module("angular-svg-round-progressbar").service("roundProgressService",["$window",function(e){function t(e,t,n,o){var i=(o-90)*Math.PI/180,a=e+n*Math.cos(i),r=t+n*Math.sin(i);return a+" "+r}var n={},o=angular.isNumber,i=document.head.querySelector("base");return n.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),n.resolveColor=i&&i.href?function(e){var t=e.indexOf("#");return t>-1&&e.indexOf("url")>-1?e.slice(0,t)+window.location.href+e.slice(t):e}:function(e){return e},n.toNumber=function(e){return o(e)?e:parseFloat((e+"").replace(",","."))},n.getOffset=function(e,t){var n=+t.offset||0;if("inherit"===t.offset)for(var o=e.$parent;o;){if(o.hasOwnProperty("$$getRoundProgressOptions")){var i=o.$$getRoundProgressOptions();n+=(+i.offset||0)+(+i.stroke||0)}o=o.$parent}return n},n.getTimestamp=e.performance&&e.performance.now&&angular.isNumber(e.performance.now())?function(){return e.performance.now()}:function(){return(new e.Date).getTime()},n.updateState=function(e,n,o,i,a,r){if(!a)return i;var s=e>0?Math.min(e,n):0,l=r?180:359.9999,c=0===n?0:s/n*l,u=t(a,a,o,c),d=t(a,a,o,0),m=180>=c?0:1,p="M "+u+" A "+o+" "+o+" 0 "+m+" 0 "+d;return i.attr("d",p)},n.animations={linearEase:function(e,t,n,o){return n*e/o+t},easeInQuad:function(e,t,n,o){return n*(e/=o)*e+t},easeOutQuad:function(e,t,n,o){return-n*(e/=o)*(e-2)+t},easeInOutQuad:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,o){return n*(e/=o)*e*e+t},easeOutCubic:function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,o){return n*(e/=o)*e*e*e+t},easeOutQuart:function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOutQuint:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,o){return n*Math.sin(e/o*(Math.PI/2))+t},easeInOutSine:function(e,t,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+t},easeInExpo:function(e,t,n,o){return 0==e?t:n*Math.pow(2,10*(e/o-1))+t},easeOutExpo:function(e,t,n,o){return e==o?t+n:n*(-Math.pow(2,-10*e/o)+1)+t},easeInOutExpo:function(e,t,n,o){return 0==e?t:e==o?t+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOutCirc:function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOutCirc:function(e,t,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,o){var i=1.70158,a=0,r=n;return 0==e?t:1==(e/=o)?t+n:(a||(a=.3*o),r<Math.abs(n)?(r=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/a))+t)},easeOutElastic:function(e,t,n,o){var i=1.70158,a=0,r=n;return 0==e?t:1==(e/=o)?t+n:(a||(a=.3*o),r<Math.abs(n)?(r=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*e)*Math.sin((e*o-i)*(2*Math.PI)/a)+n+t)},easeInOutElastic:function(e,t,n,o){var i=1.70158,a=0,r=n;return 0==e?t:2==(e/=o/2)?t+n:(a||(a=o*(.3*1.5)),r<Math.abs(n)?(r=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/r),1>e?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/a))+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/a)*.5+n+t)},easeInBack:function(e,t,n,o,i){return void 0==i&&(i=1.70158),n*(e/=o)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,o,i){return void 0==i&&(i=1.70158),n*((e=e/o-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,o,i){return void 0==i&&(i=1.70158),(e/=o/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},easeInBounce:function(e,t,o,i){return o-n.animations.easeOutBounce(i-e,0,o,i)+t},easeOutBounce:function(e,t,n,o){return(e/=o)<1/2.75?n*(7.5625*e*e)+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,o,i){return i/2>e?.5*n.animations.easeInBounce(2*e,0,o,i)+t:.5*n.animations.easeOutBounce(2*e-i,0,o,i)+.5*o+t}},n}]),angular.module("angular-svg-round-progressbar").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(e,t,n){var o={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};return t.isSupported?angular.extend(o,{link:function(i,a,r){function s(e){return r.hasOwnProperty(e)}var l,c,u=!a.hasClass("round-progress-wrapper"),d=u?a:a.find("svg").eq(0),m=d.find("path").eq(0),p=d.find("circle").eq(0),g=angular.copy(n),h=0;i.$$getRoundProgressOptions=function(){return g};var f=function(){var e=g.semi,n=g.responsive,o=+g.radius||0,r=+g.stroke,s=2*o,l=o-r/2-t.getOffset(i,g);d.css({top:0,left:0,position:n?"absolute":"static",width:n?"100%":s+"px",height:n?"100%":(e?o:s)+"px",overflow:"hidden"}),u||d[0].setAttribute("viewBox","0 0 "+s+" "+(e?o:s)),a.css({width:n?"100%":"auto",position:"relative",paddingBottom:n?e?"50%":"100%":0}),m.css({stroke:t.resolveColor(g.color),strokeWidth:r,strokeLinecap:g.rounded?"round":"butt"}),e?m.attr("transform",g.clockwise?"translate(0, "+s+") rotate(-90)":"translate("+s+", "+s+") rotate(90) scale(-1, 1)"):m.attr("transform",g.clockwise?"":"scale(-1, 1) translate("+-s+" 0)"),p.attr({cx:o,cy:o,r:l>=0?l:0}).css({stroke:t.resolveColor(g.bgcolor),strokeWidth:r})},v=function(n,o,r){var s=t.toNumber(g.max||0),c=n>0?e.Math.min(n,s):0,u=o===c||0>o?0:o||0,p=c-u,f=t.animations[g.animation],v=+g.duration||0,b=r||n>s&&o>s||0>n&&0>o||25>v,w=t.toNumber(g.radius),y=w-g.stroke/2-t.getOffset(i,g),k=g.semi;d.attr({"aria-valuemax":s,"aria-valuenow":c});var _=function(){if(b)t.updateState(c,s,y,m,w,k),g.onRender&&g.onRender(c,g,a);else{var n=t.getTimestamp(),o=++h;e.requestAnimationFrame(function i(){var r=e.Math.min(t.getTimestamp()-n,v),l=f(r,u,p,v);t.updateState(l,s,y,m,w,k),g.onRender&&g.onRender(l,g,a),o===h&&v>r&&e.requestAnimationFrame(i)})}};g.animationDelay>0?(e.clearTimeout(l),e.setTimeout(_,g.animationDelay)):_()},b=Object.keys(o.scope).filter(function(e){return s(e)&&"current"!==e});i.$watchGroup(b,function(e){for(var t=0;t<e.length;t++)"undefined"!=typeof e[t]&&(g[b[t]]=e[t]);f(),i.$broadcast("$parentOffsetChanged"),"inherit"!==g.offset||c?"inherit"!==g.offset&&c&&c():c=i.$on("$parentOffsetChanged",function(){v(i.current,i.current,!0),f()})}),i.$watchGroup(["current","max","radius","stroke","semi","offset"].filter(s),function(e,n){v(t.toNumber(e[0]),t.toNumber(n[0]))})},template:function(e){for(var t=e.parent(),n="round-progress",o=['<svg class="'+n+'" xmlns="http://www.w3.org/2000/svg" role="progressbar" aria-valuemin="0">','<circle fill="none"/>','<path fill="none"/>',"<g ng-transclude></g>","</svg>"];t.length&&t[0].nodeName.toLowerCase()!==n&&"undefined"==typeof t.attr(n);)t=t.parent();return t&&t.length||(o.unshift('<div class="round-progress-wrapper">'),o.push("</div>")),o.join("\n")}}):angular.extend(o,{template:'<div class="round-progress" ng-transclude></div>'})}])}(),function(){"use strict";function e(e,n,o,i,a){function r(r,s,l){function c(){r.closeModal=function(){r.modal.hide()},r.searchValue="",r.selectLanguage=function(e){console.log(e),n.use(e.code),r.language=e,r.$emit("changeLanguage",e),i.start(),r.closeModal(),o(function(){i.end()},1e3)},a.fromTemplateUrl(t+"/modal-language.html",{scope:r,focusFirstInput:!0}).then(function(e){r.modal=e,r.modal.show()})}r.languages=e.locales,r.language=r.languages.filter(function(e){return e.code===n.use()})[0],s.bind("click",c)}return{restrict:"E",link:r,templateUrl:t+"/ion-language.html"}}e.$inject=["AppConfig","$translate","$timeout","Loading","$ionicModal"];var t="app/component/ion-language";angular.module("ion-language").directive("ionLanguage",e)}(),function(){"use strict";function e(e,t,n,o,i,a){function r(){var e=a.defer();if(k.location)i(function(){e.resolve(k.location)},1e3);else{var t={timeout:1e4,enableHighAccuracy:!1};n.getCurrentPosition(t).then(function(t){k.location={latitude:t.coords.latitude,longitude:t.coords.longitude},e.resolve(k.location)},function(t){o.alert({title:"Geo Error",template:t.message}),e.reject(t)})}return e.promise}function s(){var e=a.defer();return r().then(function(t){console.log(t),c(t.latitude,t.longitude).success(function(n){n.geolocation=t,console.log(n),e.resolve(n)}).error(l)}),e.promise}function l(e){console.log(e)}function c(t,n){return e.get("http://maps.google.com/maps/api/geocode/json?latlng="+t+","+n+"&sensor=true").success(function(e){e.address_normal=e.results[0].formatted_address,e.address=u(e.results[0].address_components),e.src=d(t,n,18,500,300)})}function u(e){return e?{numero:e[0].short_name,rua:e[1].long_name,bairro:e[2].short_name,cidade:e[3].short_name,estado:e[5].long_name,uf:e[5].short_name,pais:e[6].long_name,paisCode:e[6].short_name,cep:e[7].short_name}:!1}function d(e,t,n,o,i){return"http://maps.google.com/maps/api/staticmap?center="+e+","+t+"&zoom="+n+"&size="+o+"x"+i+"&maptype=roadmap&sensor=true"}function m(e){var t=a.defer();console.log("parseAddress",e),e||t.reject("not place");for(var n={resume:"",geo:{latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng()}},o=h(n.geo.latitude,n.geo.longitude,16,900,200),i=0;i<e.address_components.length;i++){var r=e.address_components[i].types[0];if(w[r]){var s=e.address_components[i][w[r]];n[y[r]]=s}}return n.name=e.name,n.street=n.street+", "+n.number,n.image=o,n.resume=n.street+" - "+n.city+", "+n.state+", "+n.country,t.resolve(n),t.promise}function p(e){var t=a.defer();return v.getQueryPredictions({input:e},function(e){t.resolve(e)}),t.promise}function g(e){var t=a.defer();return b.getDetails({placeId:e},function(e){t.resolve(e)}),t.promise}function h(e,t,n,o,i){console.log("src latitude",e,t,n,o,i);var a="http://maps.googleapis.com/maps/api/staticmap?center="+e+","+t+"&zoom="+n+"&scale=1&size="+o+"x"+i+"&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C"+e+","+t+"&sensor=true";return console.log(a),a}var f={types:["geocode"]},v=new t.google.maps.places.AutocompleteService,b=new t.google.maps.places.PlacesService(t.document.createElement("input"),f),w={street_number:"long_name",route:"long_name",locality:"long_name",sublocality:"long_name",neighborhood:"long_name",political:"long_name",administrative_area_level_1:"long_name",country:"long_name",postal_code:"long_name"},y={street_number:"number",route:"street",locality:"city",administrative_area_level_1:"state",country:"country",postal_code:"zipcode",neighborhood:"district"},k={coords:{},src:""};return{src:h,getDetails:g,searchAddress:p,parseAddress:m,findMe:s}}e.$inject=["$http","$window","$cordovaGeolocation","$ionicPopup","$timeout","$q"],angular.module("ion-location").factory("GeoService",e)}(),function(){"use strict";function e(e,t){function n(n,o){o.bind("click",function(){function o(){n.search={},n.search.suggestions=[],n.search.query=""}function i(e){t.getDetails(e).then(function(e){t.parseAddress(e).then(function(e){console.log(e),n.location=e,n.closeModalLocation()})})}o(),n.findMe=function(){n.loading=!0,t.findMe().then(function(e){t.searchAddress(e.address_normal).then(function(e){console.log(e),n.search.suggestions=e,n.loading=!1})})},n.findMe(),n.choosePlace=function(e){i(e.place_id)},n.modalLocation=e.fromTemplate('<ion-modal-view><ion-header-bar class="bar bar-positive item-input-inset"><ion-spinner ng-if="loading"></ion-spinner><button class="button button-clear button-icon ion-navigate" ng-click="findMe()" ng-hide="loading"></button><label class="item-input-wrapper"><input type="search" ng-model="search.query" ng-model-options="{ debounce: 1500 }" placeholder="{{ \'searchText\' | translate }}"></label><button class="button button-clear" ng-click="closeModalLocation()" translate="cancel"></button></ion-header-bar><ion-content padding="false"><ion-list><div class="center padding" ng-if="loading1"><ion-spinner ></ion-spinner></div><ion-item ng-repeat="suggestion in search.suggestions" ng-click="choosePlace(suggestion)" ng-bind="suggestion.description"></ion-item><ion-item class="item-divider"><img src="https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png"alt=""/></ion-item></ion-list></ion-content></ion-modal-view>',{
scope:n,focusFirstInput:!0}),n.modalLocation.show(),n.closeModalLocation=function(){n.modalLocation.hide(),n.modalLocation.remove()},n.$watch("search.query",function(e){e&&(n.loading1=!0,n.search.suggestions=[],t.searchAddress(e).then(function(e){console.log(e),n.search.suggestions=e,n.loading1=!1}))})})}return{restrict:"A",scope:{location:"=ngModel"},link:n}}e.$inject=["$ionicModal","GeoService"],angular.module("ion-location").directive("ionLocation",e)}(),function(){function e(e,t,n,o,i,a,r,s){function l(e){function t(){var e=angular.copy(l.form);r.start(),n.create(e).then(function(e){r.end(),s()})}function s(){l.modal.hide(),l.modal.remove(),delete l.modal}var l=o.$new();l.formFields=i.form,l.submitFeedback=t,l.closeModal=s,l.form={photogramId:e.id,subject:"complaint"},a.fromTemplateUrl("app/main/feedback/feedback-modal.html",{scope:l,focusFirstInput:!0}).then(function(e){l.modal=e,l.modal.show()})}t.path;return{modal:l}}e.$inject=["$q","AppConfig","GalleryFeedback","$rootScope","GalleryFeedbackForm","$ionicModal","Loading","Toast"],angular.module("app.main").factory("FeedbackModal",e)}(),function(){"use strict";function e(e){var t=[{key:"title",type:"input",templateOptions:{type:"text",placeholder:e.instant("feedbackTitle"),required:!0}},{key:"subject",type:"select",templateOptions:{label:e.instant("subject"),options:[{label:e.instant("complaint"),id:"complaint"},{label:e.instant("bug"),id:"bug"},{label:e.instant("suggestion"),id:"suggestion"}],valueProp:"id",labelProp:"label",icon:"icon-list",iconPlaceholder:!0}},{key:"status",type:"textarea",templateOptions:{type:"text",placeholder:e.instant("message"),icon:"ion-quote",required:!0,iconPlaceholder:!0}}];return{form:t}}e.$inject=["$translate"],angular.module("app.main").factory("GalleryFeedbackForm",e)}(),function(){"use strict";function e(e,t,n,o,i){return{restrict:"A",scope:{galleryId:"@"},template:"",link:function(a,r,s){function l(){a.form={}}function c(){l(),e.fromTemplateUrl("app/main/feedback/feedback-modal.html",{scope:a,focusFirstInput:!0}).then(function(e){a.modal=e,a.modal.show()})}function u(e){i.go(e),a.closeModal()}function d(){a.modal.hide(),a.modal.remove()}a.link=u,a.submitFeedback=submitFeedback,a.closeModal=d,r.bind("click",c),a.submitFeedback=function(e,i){if(e.$valid){o.start();var r=angular.copy(a.form);r.user=Parse.User.current(),n.get(a.galleryId).then(function(e){r.gallery=e,t.create(r).then(function(e){console.log(e),l(),a.closeModal(),o.stop()})})}}}}}e.$inject=["$ionicModal","GalleryFeedback","Gallery","Loading","$state"],angular.module("app.main").directive("feedback",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c,u,d,m){function p(){e.nocomments=!1,d.get(t.galleryId).then(function(t){console.log(t),h(),e.gallery=t,e.form={gallery:t,text:""}})}function g(){var e=document.getElementById("textComment");e.click(),e.focus(),window.cordova&&cordova.plugins.Keyboard.show()}function h(){e.loading=!0,d.comments({galleryId:t.galleryId}).then(function(t){e.comments=[],t.map(function(t){console.log(t),t.canEdit=t.user.obj.id===e.currentUser.id?!0:!1,e.comments.push(t)}),e.loading=!1,i.scrollBottom(),e.$digest(),g()})}e.currentUser=Parse.User.current(),e.loading=!0,e.backButton=function(){a.goBack()},p(),e.myIndexValue="5",e.searchPeople=function(t){var n=[];return l.getFollowing().then(function(i){return _.each(i,function(e){e.imageUrl=e.photo?e.photo._url:"img/user.png",e.bio=e.status,e.name?e.name.toUpperCase().indexOf(t.toUpperCase())>=0&&n.push(e):(e.name="Not name",n.push(e))}),e.people=n,console.log(n),o.when(n)})},e.getPeopleTextRaw=function(e){return"@"+e.username},e.deleteComment=function(e,t){console.log(e),c.confirm({title:"Deletar comentrio",text:"Tem certeza?"}).then(function(t){t&&m.get(e.id).then(function(e){m.destroy(e).then(function(t){r.$emit("photolist:comment:remove",e),h()})})})},e.editComment=function(t,n){console.log(t),e.formEdit={id:t.id,text:t.text},s.show({template:'<input type="text" ng-model="formEdit.text">',title:"Editar Comentrio",scope:e,buttons:[{text:"Cancelar"},{text:"<b>OK</b>",type:"button-positive",onTap:function(t){return console.log(e.formEdit),e.formEdit.text?e.formEdit:void t.preventDefault()}}]}).then(function(n){console.log(n),n&&m.get(t.id).then(function(t){t.text=n.text,t.save(),e.loading=!0,u(function(){h()},1e3)})})},e.submitComment=function(t,n){if(t.$valid){var o=angular.copy(n);e.loading=!0,m.create(o).then(function(t){r.$emit("photolist:comment:add",t),h(),e.form.text=""})}}}e.$inject=["$scope","$stateParams","$document","$q","$ionicScrollDelegate","$ionicHistory","$rootScope","$ionicPopup","User","Dialog","$timeout","Gallery","GalleryComment"],angular.module("starter").controller("GalleryComment",e)}(),function(){"use strict";function e(e,t,n,o,i,a){var r=t.User.current();r?r?a.go(i.routes.home,{clear:!0}):a.go("avatar",{clear:!0}):a.go(i.routes.login,{clear:!0}),e.$on("$ionicView.loaded",function(){n.ready(function(){navigator&&navigator.splashscreen&&o.hide()})})}e.$inject=["$scope","Parse","$ionicPlatform","$cordovaSplashscreen","AppConfig","$state"],angular.module("app.main").controller("LoadingCtrl",e)}(),function(){"use strict";function e(e,t,n,o){function i(){a.data={total:!1,galleries:[]},a.page=0,a.empty=!1,a.more=!1}var a=this;a.loading=!0,t.profile(o.username).then(function(t){console.log(t),console.log(Parse.User.current()),a.isMe=Parse.User.current().id===t.id?!0:!1,a.user=t,a.loading=!1,e.$digest()}),a.openFollowers=function(){switch(console.log(n,o),n.current.name){case"tab.homeProfile":n.go("tab.homeProfileFollowers",{username:o.username});break;case"tab.activityProfile":n.go("tab.activityProfileFollowers",{username:o.username})}},a.openFollowing=function(){switch(console.log(n,o),n.current.name){case"tab.homeProfile":n.go("tab.homeProfileFollowing",{username:o.username});break;case"tab.activityProfile":n.go("tab.activityProfileFollowing",{username:o.username})}},a.follow=function(){a.loadingFollow=!0,t.follow(a.user.obj.id).then(function(t){console.log("Follow result",t),a.user.isFollow="follow"===t?!0:!1,"follow"==t&&(a.user.followersTotal+=1),"unfollow"==t&&(a.user.followersTotal-=1),a.loadingFollow=!1,e.$apply()})},i(),a.tab={list:!0,grid:!1,album:!1,map:!1},a.changeTab=function(e){Object.keys(a.tab).map(function(t){t==e?a.tab[t]=!0:a.tab[t]=!1})}}e.$inject=["$scope","User","$state","$stateParams"],angular.module("app.main").controller("ProfileCtrl",e)}(),function(){"use strict";function e(e){var t=this;t.id=e.id}e.$inject=["$stateParams"],angular.module("app.main").controller("ProfilePhotoCtrl",e)}(),function(){"use strict";function e(e,t,n,o){function i(i){var r=e.defer(),s=t.$new();return s.image=i,s.form={title:"",facebookShare:!0,privacity:"public"},s.searchPeople=function(t){var o=[];return n.getFollowing().then(function(n){return _.each(n,function(e){e.imageUrl=e.photo?e.photo._url:"img/user.png",e.bio=e.status,e.name.toUpperCase().indexOf(t.toUpperCase())>=0&&o.push(e)}),s.people=o,e.when(o)})},s.getPeopleTextRaw=function(e){return"@"+e.username},s.theme=t.theme,o.fromTemplateUrl("app/main/share/share-modal.html",{scope:s,focusFirstInput:!0}).then(function(e){s.modalFilter=e,s.modalFilter.show()}),s.closeAddress=function(){s.form.address={}},s.close=function(){s.modalFilter.hide()},s.$on("$destroy",function(){s.modal.remove()}),s.submit=function(e,t){if(e.$valid){var t=angular.copy(s.form);t.image=s.image,a="",s.close(),r.resolve(t)}else console.log("Error",e)},r.promise}var a;return{show:i}}e.$inject=["$q","$rootScope","User","$ionicModal"],angular.module("starter").factory("GalleryShare",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c,u){function d(){i.badge=0}var m=this;t.clearHistory(),i.storage=e,d(),a.$on("activity:clear",function(){d()}),s.ready(function(){n.init().then(function(){n.on("openPN",function(e){console.log("The user opened a notification:"+JSON.stringify(e)),i.$applyAsync()}),n.on("receivePN",function(e){console.log("yo i got this push notification:"+JSON.stringify(e)),i.badge++,i.$applyAsync()}),n.on("receivePN",function(e){console.log("message",e),i.$applyAsync()})})}),m.postPhoto=function(){r.open().then(o.show).then(function(e){u.start(),console.log(e),c.upload({base64:e.image}).then(function(t){e.image=t,l.create(e).then(function(e){a.$emit("photolist:reload"),u.end()})})})}}e.$inject=["$localStorage","$ionicHistory","ParsePush","GalleryShare","$scope","$rootScope","PhotoService","$ionicPlatform","Gallery","ParseFile","Loading"],angular.module("app.main").controller("MainTabCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i){function a(){s.data={total:!1,galleries:[]},s.page=0,s.empty=!1,s.more=!1,r()}function r(){s.loadingFollowers=!0,s.loadingFollowing=!0,s.loadingPhotos=!0}var s=this;s.user=i.currentUser,s.photo=i.currentUser.attributes.photo,s.loading=!0,e.buttonTheme="button-"+t.theme,n.getPublicData(Parse.User.current()).then(function(e){console.log("Profile",e.attributes),s.user=e,s.loading=!1}),s.openFollowers=function(){o.go("tab.accountFollowers",{username:i.currentUser.attributes.username})},s.openFollowing=function(){o.go("tab.accountFollowing",{username:i.currentUser.attributes.username})},a(),s.tab={list:!0,grid:!1,album:!1,map:!1},s.changeTab=function(e){Object.keys(s.tab).map(function(t){t==e?s.tab[t]=!0:s.tab[t]=!1})}}e.$inject=["$scope","AppConfig","User","$state","$rootScope"],angular.module("app.main").controller("AccountCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i){function a(){e.loading||(e.loading=!0,i.feed(e.params).then(function(t){t.length>0?(e.params.page++,t.map(function(t){e.data.push(t)})):(0===e.data.length&&(e.showEmptyView=!0),e.moreDataCanBeLoaded=!1),e.loading=!1,n.$broadcast("scroll.infiniteScrollComplete"),n.$broadcast("scroll.refreshComplete")})["catch"](function(t){0===e.data.length&&(e.showErrorView=!0),e.$broadcast("scroll.refreshComplete")}))}function r(){e.params={},e.params.limit=50,e.params.page=1,e.data=[],e.moreDataCanBeLoaded=!0,e.loading=!1,e.canEdit&&e.data.push({create:!0})}r(),e.openProfile=function(e){o.go("tab.activityProfile",{username:e})},e.follow=function(e){console.log(e.id,e.obj.id),e.loading=!0,t.follow(e.obj.id).then(function(t){console.log("Follow result",t),e.isFollow="follow"===t?!0:!1,"follow"==t&&(e.followersTotal+=1),"unfollow"==t&&(e.followersTotal-=1),e.loading=!1})},a(),n.$emit("activity:clear",!0),e.onLoadMore=function(){a()},e.onReload=function(){r(),a(),e.$broadcast("scroll.refreshComplete")}}e.$inject=["$scope","User","$rootScope","$state","GalleryActivity"],angular.module("app.main").controller("ActivityCtrl",e)}(),function(){"use strict";function e(e,t,n){var o=this;o.type="public",o.onFeed=function(e){o.type=e,t.$emit("photolist:reload",e)},o.openProfile=function(t){e.go("tab.homeProfile",{username:t})},o.openLikers=function(t){e.go("tab.homeGalleryLikers",{galleryId:t})}}e.$inject=["$state","$rootScope","$ionicHistory"],angular.module("app.main").controller("HomeCtrl",e)}(),function(){"use strict";function e(e,t,n,o){function i(){e.loading||(e.loading=!0,n.search(e.params).then(function(t){t.length>0?(e.params.page++,t.map(function(t){e.data.push(t)})):(0===e.data.length&&(e.showEmptyView=!0),e.moreDataCanBeLoaded=!1),e.loading=!1,o.$broadcast("scroll.infiniteScrollComplete"),o.$broadcast("scroll.refreshComplete")})["catch"](function(t){0===e.data.length&&(e.showErrorView=!0),e.$broadcast("scroll.refreshComplete")}))}function a(){e.params.page=1,e.data=[],e.loading=!1,e.moreDataCanBeLoaded=!0,e.showEmptyView=!1,e.showErrorView=!1,e.canEdit&&e.data.push({create:!0})}e.params={},a(),e.onSearch=function(){var n=t("lowercase")(e.searchValue);e.params.search=n,e.data=[],e.onReload()},e.clearSearch=function(){e.params={},e.searchValue="",e.data=[],e.onReload()},i(),e.onLoadMore=function(){i()},e.onReload=function(){a(),i(),e.$broadcast("scroll.refreshComplete")}}e.$inject=["$scope","$filter","Gallery","$rootScope"],angular.module("app.main").controller("SearchCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(){e.galleries=[],p(),g(),e.map=new google.maps.Map(document.getElementById("map_canvas"),v),google.maps.event.addListener(e.map,"idle",function(){e.onSearchHere()})}function l(){a.getCurrentPosition().then(function(t){console.log(t),e.myLocation=c({latitude:t.coords.latitude,longitude:t.coords.longitude}),e.params.location=e.myLocation;var n={position:e.myLocation,title:"I am here",id:0};u(n),e.map.setCenter(e.params.location),m()},function(t){e.params.location=null;var n;n=1===t.code||3===t.code?"errorGpsDisabledText":"errorLocationMissingText",r.alert(n)})}function c(e){return e?new google.maps.LatLng(e.latitude,e.longitude):void 0}function u(n){var o={id:n.id,map:e.map,position:n.position,title:n.title,animation:google.maps.Animation.DROP};if(n.icon){var i=40;o.icon={url:n.icon,size:new google.maps.Size(i,i),scaledSize:new google.maps.Size(i,i),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(i/4,i/4)}}var a=new google.maps.Marker(o);google.maps.event.addListener(a,"click",function(){n.username&&t.go("tab.mapProfile",{username:n.username})}),h.push(a)}function d(t){e.galleries=t,t.map(function(t){if(t.location){var n={map:e.map,id:t.id,position:c(t.location),title:t.title,image:t.image.url(),icon:t.imageThumb.url(),username:t.attributes.user.attributes.username};_.some(h,{id:n.id})||u(n)}})}function m(){e.loading=!0,i.all(e.params).then(function(t){t.length>0?d(t):r.alert("galleriesNotFoundText"),e.loading=!1,e.$apply()},function(){o.show("errorText")})}function p(){e.galleries=[]}function g(){_.each(h,function(e,t){t>0&&e.setMap(null)}),h=[]}var h=[];new google.maps.LatLngBounds;e.maxRating=5,e.storage=n,e.galleries=[],e.params={location:null,distance:100,page:1,limit:10},e.loading=!0,e.map,e.myLocation={};var f={latitude:-18.8800397,longitude:-47.05878999999999},v={center:c(f),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};e.$on("$ionicView.enter",function(t,n){e.map||(s(),l())}),e.loadMyLocation=function(){e.params.location=e.myLocation,e.map.setCenter(e.params.location),console.log(e.map,e.params.location)},e.onSearchHere=function(){e.loading||(e.params.location.latitude=e.map.getCenter().lat(),e.params.location.longitude=e.map.getCenter().lng(),m())},e.onGalleryClicked=function(e){console.log(e)}}e.$inject=["$scope","$state","$localStorage","Toast","Gallery","Geolocation","Dialog"],angular.module("app.main").controller("SearchMapCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c){function u(){var e=t.User.current();o.form={name:e.name,email:e.email,status:e.status,gender:e.gender,username:e.username},console.log(o.form),console.log(o.formFields)}u(),o.submitAvatar=function(o,a){if(console.log(a),i.start(),o.$valid){var u=angular.copy(a);console.log(u),e.update(u).then(function(e){console.log(e),s.currentUser=t.User.current(),l.go(r.routes.home,{clear:!0}),i.end()})}else c.alert({title:n.instant("invalidForm"),text:n.instant("fillAllFields")}),i.end()}}e.$inject=["User","Parse","$translate","$scope","Loading","Auth","AppConfig","$rootScope","$state","Toast"],angular.module("app.main").controller("UserAvatarCtrl",e)}(),function(){"use strict";function e(e,t,n,o){return{restrict:"A",scope:{ngModel:"="},link:function(i,a){function r(){var a,r=i.ngModel,s=t.currentUser;return console.log(r),console.log(s),r.id!=s.id?!1:void e.image().then(function(e){return a=e,e}).then(function(e){i.loading=!0,n.upload({base64:e}).then(function(e){o.setPhoto(e).then(function(e){t.currentUser.photo=e.attributes.photo,i.loading=!1})})})}a.bind("click",r)}}}e.$inject=["ActionSheet","$rootScope","ParseFile","User"],angular.module("app.main").directive("userAvatar",e)}(),function(){"use strict";function e(e,t,n,o){var i=this;i.loading=!0,e.getFollowers(n.username).then(function(e){console.log(e),i.users=e,i.loading=!1,t.$digest()}),t.clearSearch=function(){t.searchValue=""},i.openProfile=function(e){console.log("user",e),o.go("tab.homeProfile",{username:e.username})},i.follow=function(t){i.loadingFollow=!0,e.follow(t.userObj.id).then(function(e){console.log("Follow result",e),t.isFollow="follow"===e?!0:!1,"follow"==e&&(t.followersTotal+=1),"unfollow"==e&&(t.followersTotal-=1),i.loadingFollow=!1})}}e.$inject=["User","$scope","$stateParams","$state"],angular.module("starter").controller("UserFollowerCtrl",e)}(),function(){"use strict";function e(e,t,n,o){var i=this;i.loading=!0,e.getFollowing(n.username).then(function(e){console.log(e),i.users=e,i.loading=!1,t.$digest()}),t.clearSearch=function(){t.searchValue=""},i.openProfile=function(e){console.log("user",e),o.go("tab.homeProfile",{username:e.username})},i.follow=function(t){i.loadingFollow=!0,e.follow(t.userObj.id).then(function(e){console.log("Follow result",e),t.isFollow="follow"===e?!0:!1,"follow"==e&&(t.followersTotal+=1),"unfollow"==e&&(t.followersTotal-=1),i.loadingFollow=!1})}}e.$inject=["User","$scope","$stateParams","$state"],angular.module("starter").controller("UserFollowingCtrl",e)}(),function(){"use strict";function e(e,t,n,o){var i=this,a=window.ionic.Platform.platform();i.slideIndex=0,i.slideChanged=function(e){i.slideIndex=e},i.next=function(){n.next()},i.previous=function(){n.previous()},a?i.device="android"===a?"android":"iphone":i.device="android",i.slides=[{text:"STEP1",img:"img/intro1.png"},{text:"STEP2",img:"img/intro2.png"},{text:"STEP3",img:"img/intro3.png"},{text:"STEP4",img:"img/intro4.png"},{text:"STEP5",img:"img/intro5.png"},{text:"STEP6",img:"img/intro6.png"}],window.localStorage.walkthrough=!0,e.$on("$ionicView.loaded",function(){t.ready(function(){navigator&&navigator.splashscreen&&(o.hide(),window.StatusBar.styleLightContent())})})}e.$inject=["$scope","$ionicPlatform","$ionicSlideBoxDelegate","$cordovaSplashscreen"],angular.module("starter").controller("UserIntroCtrl",e)}(),function(){"use strict";function e(e,t,n,o){var i=this;i.loading=!0,e.getLikers(n.galleryId).then(function(e){console.log(e),i.users=e,i.loading=!1}),t.clearSearch=function(){t.searchValue=""},i.openProfile=function(e){console.log("user",e),o.go("tab.homeProfile",{username:e.username})},i.follow=function(t){i.loadingFollow=!0,e.follow(t.userObj.id).then(function(e){console.log("Follow result",e),t.isFollow="follow"===e?!0:!1,"follow"==e&&(t.followersTotal+=1),"unfollow"==e&&(t.followersTotal-=1),i.loadingFollow=!1})}}e.$inject=["User","$scope","$stateParams","$state"],angular.module("starter").controller("UserLikersCtrl",e)}(),function(){"use strict";function e(e,t,n,o){function i(){t.loading||(t.loading=!0,t.onSearch=function(){t.params.search=t.searchValue,t.onReload()},t.clearSearch=function(){t.params={},t.searchValue="",t.onReload()},e.list(t.params).then(function(e){e.length>0?(t.params.page++,e.map(function(e){t.data.push(e)})):(0===t.data.length&&(t.showEmptyView=!0),t.moreDataCanBeLoaded=!1),t.loading=!1,n.$broadcast("scroll.infiniteScrollComplete"),n.$broadcast("scroll.refreshComplete")})["catch"](function(e){0===t.data.length&&(t.showErrorView=!0),t.$broadcast("scroll.refreshComplete")}))}function a(){t.params.page=1,t.data=[],t.loading=!1,t.moreDataCanBeLoaded=!0,t.showEmptyView=!1,t.showErrorView=!1,t.canEdit&&t.data.push({create:!0})}t.params={},a(),i(),t.onLoadMore=function(){i()},t.onLoadMore=function(){i()},t.onReload=function(){a(),i()},t.openProfile=function(e){console.log("user",e),o.go("tab.homeProfile",{username:e.username})},t.follow=function(n){n.loading=!0,e.follow(n.userObj.id).then(function(e){console.log("Follow result",e),n.isFollow="follow"===e?!0:!1,"follow"==e&&(n.followersTotal+=1),"unfollow"==e&&(n.followersTotal-=1),n.loading=!1,t.$apply()})}}e.$inject=["User","$scope","$rootScope","$state"],angular.module("starter").controller("UserListCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(){n.tempUser?t.form={email:n.tempUser.attributes.email,username:n.tempUser.attributes.username,password:""}:a.go("user.intro",{clear:!0})}var l=this;s(),t.submitMerge=function(t,s){console.log(t),console.table(s),""!==l.form.password?(console.log(s),e.logIn(s).then(function(t){console.log(t),n.currentUser=t,e.getLoggedUser()&&i.link(Parse.User.current()).then(function(e){console.log(e),a.go(o.routes.home,{clear:!0})})["catch"](function(e){console.log(e),r.alert({title:"Ops",text:e.message})})})["catch"](function(e){r.alert({title:"Ops",text:e.message})})):r.alert({title:"Invalid form",text:"Please enter your email"})}}e.$inject=["Auth","$scope","$rootScope","AppConfig","Facebook","$state","Toast"],angular.module("app.main").controller("UserMergeCtrl",e)}(),function(){"use strict";function e(e,t,n,o){return{restrict:"A",scope:{login:"@",register:"@"},link:function(i,a){function r(){i.form={recovery:""},i.erro="",i.text={button:"",input:"Email"},t.show({scope:i,template:'<div class="popup-recovery"><form name="form.recovery" form-manager><label class="item item-input"><i class="icon ion-email placeholder-icon"></i><input type="email" ng-model="email" id="email" name="email" placeholder="{{ text.input }}" required ng-maxlength="80"></label><span class="error-msg">{{erro}}</span></form></div>',title:"A new password will be sent to your e-mail address",buttons:[{text:"Cancel",type:"button-calm"},{text:"Send",type:"button-positive",onTap:function(e){return i.form.recovery.$valid?i.form.recovery.email.$viewValue:(e.preventDefault(),void(i.erro="Invalid Email"))}}]}).then(function(t){if(!angular.isUndefined(t)){var i=t;console.log(t),n.start(),e.forgot(i).then(function(e){console.log(e),o.alert({login:"Forgot your password",text:"Access your accout mail"}),n.end()})["catch"](function(e){o.alert({login:"Ops",text:e}),n.end()})}})}a.bind("click",r)}}}e.$inject=["User","$ionicPopup","Loading","Toast"],angular.module("app.main").directive("recoveryPass",e)}(),function(){"use strict";function e(e,t){function n(){e.forgot(o.form).then(function(e){console.log(e)})["catch"](function(e){t.alert("Ops",e)})}var o=this;o.form={},o.submitForgot=n}e.$inject=["User","Toast"],angular.module("app.main").controller("UserRecoveryPassCtrl",e)}(),function(){"use strict";function e(e,t,n){function o(t,o){function i(){document.getElementById("browseBtn").click()}function a(){n.show({buttons:[{text:'<i class="icon ion-camera"></i>Photo Camera'},{text:'<i class="icon ion-images"></i> Photo Album'}],titleText:"Change Image",cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return 0===e&&console.log("Photo Camera"),1===e&&document.getElementById("browseBtn").click(),!0}})}function r(e){var n=e.target.files[0],o=new FileReader;o.readAsDataURL(n),o.onload=function(e){var n=e.target.result;t.crop(n)},angular.element(document.getElementById("browseBtn")).val("")}function s(n){console.log(t.option),e.crop({url:n,width:t.option?t.option.width:200,height:t.option?t.option.height:200,cancelText:"Cancel",chooseText:"Save"}).then(function(e){var n=e.toDataURL();console.log(n),t.ngModel=n})}t.action=a,o.bind("click",i),t.crop=s,angular.element(document.getElementById("browseBtn")).on("change",r)}return{restrict:"A",scope:{ngModel:"=",option:"=",cropSave:"&"},template:'<div><input type="file" id="browseBtn" image="image" accept="image/*" style="display: none"/></div>',link:o}}e.$inject=["$jrCrop","$translate","$ionicActionSheet"],angular.module("ion-photo").directive("ionCrop",e)}(),function(){"use strict";function e(){function e(e,t,n){console.log(e.filter),e.$watch("filter.slider.value",function(t){t&&(e.filter.slider.value=parseInt(t),e.filter.setSlider(e.filter.slider))})}return{restrict:"E",link:e,scope:{filter:"="},template:'<div class="item range range-positive"> <input type="range" name="filter.slider.name" min="-100" max="100" step="1" ng-model="filter.slider.value"  > </div>'}}angular.module("ion-photo").directive("sliderFilter",e)}(),function(){"use strict";angular.module("jrCrop",[]).factory("$jrCrop",["$ionicModal","$rootScope","$q",function(e,t,n){var o='<div class="jr-crop modal"><div class="jr-crop-center-container"><div class="jr-crop-img" ng-style="{width: width + \'px\', height: height + \'px\'}"></div></div><div class="jr-crop-center-container"><div class="jr-crop-select" style="overflow: hidden" ng-style="{width: width + \'px\', height: height + \'px\'}"></div></div><div class="bar bar-footer bar-dark jr-crop-footer"><button class="button button-clear" ng-click="cancel()">{{cancelText}}</button><div class="title">{{title}}</div><button class="button button-clear" ng-click="crop()">{{chooseText}}</button></div></div>',i=ionic.views.View.inherit({promise:null,imgWidth:null,imgHeight:null,imgSelect:null,imgFull:null,posX:0,posY:0,scale:1,rotate:0,last_scale:1,last_posX:0,last_posY:0,last_rotate:0,initialize:function(e){var t=this;t.options=e,t.promise=n.defer(),t.loadImage().then(function(e){t.imgWidth=e.naturalWidth,t.imgHeight=e.naturalHeight,t.options.modal.el.querySelector(".jr-crop-img").appendChild(t.imgSelect=e.cloneNode()),t.options.modal.el.querySelector(".jr-crop-select").appendChild(t.imgFull=e.cloneNode()),t.bindHandlers(),t.initImage()}),t.options.cancel=this.cancel.bind(this),t.options.crop=this.crop.bind(this)},initImage:function(){if(this.options.height<this.imgHeight||this.options.width<this.imgWidth){var e=this.imgWidth/this.imgHeight,t=this.options.width/this.options.height;t>e?this.scale=this.last_scale=this.options.width/this.imgWidth:this.scale=this.last_scale=this.options.height/this.imgHeight}var n=(this.imgWidth-this.options.width)/2,o=(this.imgHeight-this.options.height)/2;this.posX=this.last_posX=-n,this.posY=this.last_posY=-o,this.setImageTransform()},cancel:function(){var e=this;e.options.modal.remove().then(function(){e.promise.reject("canceled")})},bindHandlers:function(){function e(){t(),o.posX>i&&(o.posX=i),o.posX<r&&(o.posX=r),o.posY>a&&(o.posY=a),o.posY<s&&(o.posY=s)}function t(){var e=o.scale*o.imgWidth,t=o.scale*o.imgHeight;i=(e-o.imgWidth)/2,a=(t-o.imgHeight)/2,r=-(e-i-o.options.width),s=-(t-a-o.options.height)}var n,o=this,i=0,a=0,r=0,s=0,l=0,c=0,u=1,d=o.imgWidth/o.imgHeight,m=o.options.width/o.options.height;n=d>m?o.options.height/o.imgHeight:o.options.width/o.imgWidth;var p={prevent_default_directions:["left","right","up","down"]};ionic.onGesture("touch transform drag dragstart dragend rotate",function(t){switch(t.type){case"touch":o.last_scale=o.scale;break;case"drag":o.posX=o.last_posX+t.gesture.deltaX-l,o.posY=o.last_posY+t.gesture.deltaY-c,e();break;case"transform":o.scale=Math.max(n,Math.min(o.last_scale*t.gesture.scale,u)),e();break;case"dragend":o.last_posX=o.posX,o.last_posY=o.posY;break;case"dragstart":o.last_scale=o.scale,t.gesture.deltaX>1||t.gesture.deltaX<-1?(l=t.gesture.deltaX,c=t.gesture.deltaY):(l=0,c=0);break;case"rotate":o.rotate=o.last_rotate+t.gesture.rotation}o.setImageTransform()},o.options.modal.el,p)},setImageTransform:function(){var e=this,t="translate3d("+e.posX+"px,"+e.posY+"px, 0) scale3d("+e.scale+","+e.scale+", 1)rotate("+e.rotate+"deg)";e.imgSelect.style[ionic.CSS.TRANSFORM]=t,e.imgFull.style[ionic.CSS.TRANSFORM]=t},crop:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=this.options.width/this.scale,e.height=this.options.height/this.scale;var n=this.imgWidth*this.scale,o=this.imgHeight*this.scale,i=(n-this.imgWidth)/2,a=(o-this.imgHeight)/2,r=(this.posX-i)/this.scale,s=(this.posY-a)/this.scale;t.translate(r,s),t.translate(this.imgWidth/2,this.imgHeight/2),t.rotate(this.rotate*Math.PI/180),t.drawImage(this.imgFull,this.imgWidth/2*-1,this.imgHeight/2*-1),this.options.modal.remove(),this.promise.resolve(e)},loadImage:function(){var e=n.defer();return angular.element("<img />").bind("load",function(t){e.resolve(this)}).bind("error",e.reject).prop("src",this.options.url),e.promise}});return{defaultOptions:{width:0,height:0,aspectRatio:0,cancelText:"Cancel",chooseText:"Choose"},crop:function(n){n=this.initOptions(n);var a=t.$new(!0);return ionic.extend(a,n),a.modal=e.fromTemplate(o,{scope:a}),a.modal.show().then(function(){return new i(a).promise.promise})},initOptions:function(e){var t;return t=ionic.extend({},this.defaultOptions),t=ionic.extend(t,e),t.aspectRatio&&(!t.width&&t.height&&(t.width=200),t.width?t.height=t.width/t.aspectRatio:t.height&&(t.width=t.height*t.aspectRatio)),t}}}])}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c,u){function d(e){var t=u.defer();console.log(v),e&&(Object.keys(e).map(function(t,n){k[t]=e[t]}),console.log(k));var n={quality:k.quality,aspectRatio:k.aspectRatio,allowRotation:k.allowRotation,allowEdit:k.allowEdit,correctOrientation:k.correctOrientation,targetWidth:k.targetWidth,targetHeight:k.targetHeight,saveToPhotoAlbum:k.saveToPhotoAlbum,destinationType:window.cordova?Camera.DestinationType.DATA_URL:null,encodingType:window.cordova?Camera.EncodingType.JPEG:null,popoverOptions:window.cordova?CameraPopoverOptions:null};return p().then(function(e){console.log(e),h(e-1,n).then(m).then(t.resolve)["catch"](function(e){console.log(e)})}),t.promise}function m(e){var t=u.defer();return window.cordova&&(e="data:image/jpeg;base64,"+e),k.jrCrop?r.crop({url:e,aspectRatio:1,allowRotation:k.allowRotation,width:k.targetWidth,height:k.targetHeight,cancelText:i.instant("cancel"),chooseText:i.instant("submit")}).then(function(e){t.resolve(e.toDataURL())})["catch"](t.reject):t.resolve(e),t.promise}function p(){var e=u.defer();return g({title:i.instant("choseOption"),cancelText:i.instant("cancel"),options:[{text:i.instant("photo")},{text:i.instant("library")}]}).then(function(t){e.resolve(t)}).then(e.resolve)["catch"](e.reject),e.promise}function g(t){var n=u.defer();if(window.cordova){var o={title:t.title,buttonLabels:_.map(t.options,function(e){return e.text}),addCancelButtonWithLabel:t.cancelText,androidEnableCancelButton:!0,androidTheme:window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT};a.show(o).then(function(e){3!==e&&n.resolve(e),n.reject("cancel")})}else var i=e.show({buttons:t.options,titleText:t.title,cancelText:t.cancelText,cancel:function(){i()},buttonClicked:function(e){i(),3!==e&&n.resolve(e),n.reject("cancel")}});return n.promise}function h(e,n){function i(e){if(0===e&&y&&(n.sourceType=Camera.PictureSourceType.CAMERA),1===e&&y&&(n.sourceType=Camera.PictureSourceType.PHOTOLIBRARY),y)o.getPicture(n).then(r.resolve,r.reject);else{var t=angular.element('<input type="file" accept="image/x-png, image/gif, image/jpeg" max-size="2048" />');t[0].click(),t.on("change",function(e){w=e.currentTarget.files[0];var t=new FileReader;t.onload=function(e){r.resolve(e.target.result)},t.readAsDataURL(w)})}}function a(){t.captureVideo({limit:1,duration:5}).then(function(e){w=e[0].fullPath,r.resolve(w)},r.reject)}var r=u.defer();return 0===e&&i(0),1===e&&i(1),2===e&&a(),r.promise}function f(e){var t=u.defer(),o=s.$new();return o.image=e,o.form={title:"",facebookShare:!0},o.searchPeople=function(e){var t=[];return n.getFollowing().then(function(n){return _.each(n,function(n){n.imageUrl=n.photo?n.photo._url:"img/user.png",n.bio=n.status,n.name.toUpperCase().indexOf(e.toUpperCase())>=0&&t.push(n)}),o.people=t,u.when(t)})},o.getPeopleTextRaw=function(e){return"@"+e.username},o.theme=s.theme,l.fromTemplateUrl("app/main/share/share-modal.html",{scope:o,focusFirstInput:!0}).then(function(e){o.modalFilter=e,o.modalFilter.show()}),o.form.address={},o.closeAddress=function(){o.form.address={}},o.close=function(){o.modalFilter.hide()},o.$on("$destroy",function(){o.modal.remove()}),o.submit=function(e,n){if(e.$valid){var n=angular.copy(o.form);n.image=o.image,w="",o.close(),t.resolve(n)}else console.log("Error",e)},t.promise}var v=ionic.Platform.device(),b=ionic.Platform.isIOS();console.log("isIOS",b);var w,y=window.cordova,k={jrCrop:!1,quality:90,allowEdit:!0,filter:!0,correctOrientation:!0,targetWidth:640,targetHeight:640,saveToPhotoAlbum:!1,allowRotation:!0,aspectRatio:0};return{open:d,crop:m,modalPost:f}}e.$inject=["$ionicActionSheet","$cordovaCapture","User","$cordovaCamera","$translate","$cordovaActionSheet","$jrCrop","$rootScope","$ionicModal","ActionSheet","$q"],
angular.module("ion-photo").factory("PhotoService",e)}(),function(){"use strict";function e(e,t){function n(t){e.resolveLocalFileSystemURL(t,function(e){return o(e)},r)}function o(t){var n=t.fullPath.substr(t.fullPath.lastIndexOf("/")+1),o=s()+n;e.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(e){t.copyTo(e,o,function(e){return i(e)},r)},r)}function i(t){var n=t.nativeURL.slice(0,-4);e.PKVideoThumbnail.createThumbnail(t.nativeURL,n+".png",function(e){return a(e)},r)}function a(e){var t=e.slice(0,-4);t+=".MOV",l.resolve(t)}function r(e){console.log("FAIL: "+e.code),l.reject("ERROR")}function s(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;5>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var l=t.defer();return{saveVideo:function(e){return n(e[0].localURL),promise}}}e.$inject=["$window","$q"],angular.module("ion-photo").factory("Video",e)}(),function(){"use strict";angular.module("ionic").run(["$templateCache",function(e){e.put("app/directive/SigninModalDirective.html",'<ion-modal-view><ion-header-bar class="bar-positive"><h1 class="title" translate="signin"></h1><a \nng-click="closeModal()" class="button button-icon icon ion-ios-close-empty"></a></ion-header-bar><ion-content \nscroll="false"><div class="step2"><form name="myForm" novalidate="novalidate" on-submit="submitLogin(myForm, form)">\n<label class="item item-input validated"><i class="icon icon-user placeholder-icon"></i> <input required="required" \ntype="text" name="username" ng-model="form.username" ng-minlength="4" ng-maxlength="12" autocomplete="false" \nng-model-options="{debounce: 1000}" placeholder="{{\'yourLogin\' | translate}}"></label><div class="errors" \nng-if="myForm.username.$dirty"><div ng-messages="myForm.username.$error" class="validation-error"><div \nng-message="required" translate="usernameRequired"></div><div ng-message="email" translate="usernameInUse"></div></div>\n<div ng-messages="myForm.username.$pending" class="validation-pending"><div ng-message="email" \ntranslate="checkingUsername"></div></div></div><label class="item item-input validated"><i \nclass="icon icon-lock placeholder-icon"></i> <input required type="password" name="password" autocomplete="false" \nng-model="form.password" placeholder="{{\'password\'|translate}}"></label><div class="errors" \nng-if="myForm.username.$dirty"><div ng-messages="myForm.username.$error" class="validation-error"><div \nng-message="required" translate="required"></div></div></div><div class="padding"><button \nclass="button button-block button-positive" type="submit" translate="{{\'submit\' | translate}}"></button> <a \nclass="button button-block button-clear button-positive" ng-click="forgotPass()" \ntranslate="{{\'forgotPass\' | translate}}"></a> <span class="term">{{\'termAccept\' | translate}} <a \nhref="https://photogramapp.com">{{\'terms\' | translate}}</a></span></div></form></div></ion-content></ion-modal-view>'),e.put("app/directive/SignupModalDirective.html",'<ion-modal-view><ion-header-bar class="bar-positive"><h1 class="title" translate="register"></h1><a \nng-click="closeModal()" class="button button-icon icon ion-ios-close-empty"></a></ion-header-bar><form name="myForm" \non-submit="submitRegister(myForm, form)" novalidate="novalidate"><ion-content scroll="false"><div class="step2"><label \nclass="item item-input validated"><i class="icon icon-envelope placeholder-icon"></i> <input required="required" \ntype="email" name="email" ng-model="form.email" autocomplete="false" email-validator \nng-model-options="{debounce: 1000}" placeholder="user@example.com"> <i class="icon ion-alert-circled error"></i>\n</label><div class="errors" ng-if="myForm.email.$dirty"><div ng-messages="myForm.email.$error" \nclass="validation-error"><div ng-message="required" translate="emailRequired"></div><div ng-message="email" \ntranslate="emailInUse"></div></div><div ng-messages="myForm.email.$pending" class="validation-pending"><div \nng-message="email" translate="checkingEmail"></div></div></div><label class="item item-input validated"><i \nclass="icon icon-user placeholder-icon"></i> <input required="required" type="text" name="username" \nng-model="form.username" username-validator ng-minlength="4" ng-maxlength="12" autocomplete="false" \nng-model-options="{debounce: 1000}" placeholder="{{\'yourLogin\' | translate}}"> <i class="icon ion-alert-circled error">\n</i></label><div class="errors" ng-if="myForm.username.$dirty"><div ng-messages="myForm.email.$error" \nclass="validation-error"><div ng-message="required" translate="usernameRequired"></div><div ng-message="email" \ntranslate="usernameInUse"></div></div><div ng-messages="myForm.email.$pending" class="validation-pending"><div \nng-message="email" translate="checkingUsername"></div></div></div><label class="item item-input validated"><i \nclass="icon icon-lock placeholder-icon"></i> <input required type="password" name="password" ng-model="form.password" \nplaceholder="{{\'password\'|translate}}"> <i class="icon ion-alert-circled error"></i></label><div class="padding">\n<button class="button button-block button-positive" type="submit" translate="{{\'submit\' | translate}}"></button> <span \nclass="term">{{\'termAccept\' | translate}} <a href="https://photogramapp.com">{{\'terms\' | translate}}</a></span></div>\n</div></ion-content></form></ion-modal-view>'),e.put("app/directive/albumGridDirective.html",'<div class="center padding" ng-if="showErrorView"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-primary" ng-click="onReload()">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><div class="center padding" ng-if="loading &&!data.length">\n<ion-spinner></ion-spinner></div><div class="row" ng-if="$index % 2 === 0" \nng-repeat="image in data | orderBy:\'createdAt\':true"><div class="col col-50 newAlbum" \nng-if="$index < data.length && data[$index].create" gallery-new-album-modal ng-model="ngModel"><div class="desc"><i \nclass="icon ion-ios-plus-empty"></i><h2 translate="createAlbum"></h2></div></div><div class="col col-50" \nng-if="$index < data.length && !data[$index].create" album-photo-grid album="data[$index].id" edit="canEdit"><img \nimg-cache ic-src="{{ ::data[$index ].imageThumb._url || \'img/albumnone.png\'}}" ic-default="img/user.png" width="100%">\n<div class="desc"><h2>{{::data[$index].title}}</h2><p>{{::data[$index].qtyPhotos}} photos</p></div></div><div \nclass="col col-50" ng-if="$index + 1 < data.length" album-photo-grid album="data[$index+1].id" edit="canEdit"><img \nimg-cache ic-src="{{ ::data[$index + 1].imageThumb._url || \'img/albumnone.png\'}}" ic-default="img/user.png" \nwidth="100%"><div class="desc"><h2>{{::data[$index+1].title}}</h2><p>{{::data[$index+1].qtyPhotos}} photos</p></div>\n</div></div><ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded" spinner distance="1%">\n</ion-infinite-scroll>'),e.put("app/directive/albumPhotoGridDirective.html",'<ion-modal-view cache-view="false"><ion-header-bar class="bar bar-{{theme}}"><a ng-click="closeAlbumPhotoGridModal()" \nclass="button button-icon icon ion-ios-close-empty"></a><h1 class="title" ng-bind="title"></h1><a \nclass="button button-icon icon ion-android-more-vertical" ng-if="canEdit" ng-click="openPopover($event)"></a>\n</ion-header-bar><ion-content class="padding"><div class="center padding" ng-if="loading"><ion-spinner></ion-spinner>\n</div><div class="row" ng-repeat="image in data | orderBy:\'createdAt\':true" ng-if="!loading && $index % 3 === 0"><div \nclass="col col-33" ng-if="$index < data.length"><img ng-if="profile" profile-modal user="data[$index].user.obj" \nic-src="{{ ::data[$index].imageThumb.url()}}" img-cache ic-default="img/user.png" width="100%"> <img ng-if="!profile" \nion-slideshow can-edit="canEdit" ng-model="data" index="$index" img-cache \nic-src="{{ ::data[$index].imageThumb.url()}}" width="100%"></div><div class="col col-33" \nng-if="$index + 1 < data.length"><img ng-if="profile" profile-modal user="data[$index + 1].user.obj" img-cache \nic-default="img/user.png" ic-src="{{ ::data[$index + 1].imageThumb.url()}}" width="100%"> <img ng-if="!profile" \nion-slideshow can-edit="canEdit" ng-model="data" index="$index+1" img-cache \nic-src="{{ ::data[$index + 1].imageThumb.url()}}" width="100%"></div><div class="col col-33" \nng-if="$index + 2 < data.length"><img ng-if="profile" profile-modal user="data[$index + 2].user.obj" img-cache \nic-default="img/user.png" ic-src="{{ ::data[$index + 2].imageThumb.url()}}" width="100%"> <img ng-if="!profile" \nion-slideshow can-edit="canEdit" ng-model="data" index="$index+2" img-cache ic-default="img/user.png" \nic-src="{{ ::data[$index + 2].imageThumb.url()}}" width="100%"></div></div></ion-content></ion-modal-view>'),e.put("app/directive/albumPhotoGridPopover.html",'<ion-popover-view><ion-content><div class="list"><a class="item item-icon-left" ng-click="uploadPhoto()"><i \nclass="icon ion-ios-camera-outline"></i> <span translate="addPhoto"></span> </a><a class="item item-icon-left" \nng-click="editAlbum()"><i class="icon ion-ios-compose-outline"></i> <span translate="editAlbum"></span> </a><a \nclass="item item-icon-left" ng-click="deleteAlbum()"><i class="icon ion-ios-trash-outline"></i> <span \ntranslate="deleteAlbum"></span></a></div></ion-content></ion-popover-view>'),e.put("app/directive/distanceModal.html",'<ion-modal-view><ion-header-bar class="bar bar-{{theme}}"><div class="buttons"><button \nclass="button button-clear button-icon ion-ios-close-empty" ng-click="closeDistanceModal()"></button></div><div \nclass="title">{{ "chooseDistanceText" | translate }}</div></ion-header-bar><ion-content><ion-list><ion-item \nclass="item item-icon-right" ng-repeat="distance in distances" ng-click="onDistanceSelected(distance.val)" bindonce><h2\n bo-bind="distance.text"></h2><i class="icon ion-checkmark" ng-show="params.distance === distance.val"></i></ion-item>\n</ion-list></ion-content></ion-modal-view>'),e.put("app/directive/follow.modal.html",'<ion-modal-view class="modal-profile photogram-profile"><ion-header-bar class="bar-positive"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\nFollow Users</div></ion-header-bar><ion-content><div class="list"><div class="item item-avatar item-button-right" \nng-repeat="item in data"><img ng-src="{{ ::item.src }}"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \nclass="button" ng-click="item.follow = !item.follow" ng-class="item.follow ? \'button-positive\' : \'button-stable\'"><i \nclass="icon" ng-class="item.follow? \'ion-thumbsup\' : \'ion-plus\'"></i></button></div></div></ion-content>\n</ion-modal-view>'),e.put("app/directive/galleryAlbumModalDirective.html",'<ion-modal-view><ion-header-bar class="bar bar-{{theme}}"><a ng-click="closeModal()" class="button button-clear" \ntranslate="cancel"></a><h1 class="title" translate="selectAlbumText"></h1></ion-header-bar><ion-content><div \nclass="list"><div class="item item-thumbnail-left" gallery-new-album-modal ng-model="ngModel"><img \nsrc="img/albumnew.png"><h2>Create Album</h2></div><div class="item item-thumbnail-left" \nng-repeat="item in data | filter:searchValue" ng-click="selectAlbum(item)"><img img-cache ic-default="img/user.png" \nic-src="{{item.imageThumb._url || \'img/albumnone.png\'}}"><h2 ng-bind="item.title"></h2><p>{{item.qtyPhotos}} photos</p>\n</div></div><ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded" spinner></ion-infinite-scroll>\n</ion-content></ion-modal-view>'),e.put("app/directive/galleryNewAlbumModalDirective.html",'<ion-modal-view><form name="rForm" novalidate><ion-header-bar class="bar bar-{{theme}}"><button \nng-click="closeModal()" class="button button-clear" translate="cancel"></button><h1 class="title" \ntranslate="createAlbum" ng-if="!form.id"></h1><h1 class="title" translate="editAlbum" ng-if="form.id"></h1><button \nng-click="createAlbum(rForm, form)" class="button button-clear" translate="submit"></button></ion-header-bar>\n<ion-content><div class="list"><label class="item item-input"><input type="text" name="title" \nplaceholder="{{\'albumName\' | translate}}" ng-model="form.title" required></label><label class="item item-input">\n<textarea name="description" placeholder="{{\'albumDesc\' | translate}}" ng-model="form.description"></textarea></label>\n</div></ion-content></form></ion-modal-view>'),e.put("app/directive/likeDirective.html",'<ion-modal-view class="modal-comment"><ion-header-bar class="bar-dark"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ ::\'Likes\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class="list step1"><div \nng-repeat="item in likes" class="item item-avatar item-button-right"><img ng-src="{{ ::item.user.img }}"><h2>\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \nclass="button button-positive button-outline"><i class="icon ion-ios-plus-empty"></i> {{ ::\'Follow\' }}</button></div>\n</div></ion-content></ion-modal-view>'),e.put("app/directive/mapPhotoUserDirective.html",'<div id="map_canvas" data-tap-disabled="true"></div>'),e.put("app/directive/photoGridDirective.html",'<div class="center padding" ng-if="showErrorView"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-primary" ng-click="onReload()">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><div class="center padding" ng-if="loading &&!data.length">\n<ion-spinner></ion-spinner></div><div class="row" ng-if="$index % 3 === 0" \nng-repeat="image in data | orderBy:\'createdAt\':true"><div class="col col-33" ng-if="$index < data.length"><img \nng-if="profile" profile-modal user="data[$index].user.obj" width="100%" img-cache \nic-src="{{::data[$index].imageThumb.url() || \'img/user.png\'}}" ic-default="img/user.png"> <img ng-if="!profile" \nion-slideshow ng-model="data" index="$index" img-cache ic-src="{{::data[$index].imageThumb.url() || \'img/user.png\'}}" \nic-default="img/user.png" width="100%"></div><div class="col col-33" ng-if="$index + 1 < data.length"><img \nng-if="profile" profile-modal user="data[$index + 1].user.obj" img-cache \nic-src="{{::data[$index + 1].imageThumb.url() || \'img/user.png\'}}" ic-default="img/user.png" width="100%"> <img \nng-if="!profile" ion-slideshow ng-model="data" index="$index+1" img-cache \nic-src="{{::data[$index + 1].imageThumb.url() || \'img/user.png\'}}" ic-default="img/user.png" width="100%"></div><div \nclass="col col-33" ng-if="$index + 2 < data.length"><img ng-if="profile" profile-modal \nuser="data[$index + 2].user.obj" img-cache ic-src="{{::data[$index + 2].imageThumb.url() || \'img/user.png\'}}" \nic-default="img/user.png" width="100%"> <img ng-if="!profile" ion-slideshow ng-model="data" index="$index+2" img-cache \nic-src="{{::data[$index + 2].imageThumb.url() || \'img/user.png\'}}" ic-default="img/user.png" width="100%"></div></div>\n<ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded" spinner distance="1%">\n</ion-infinite-scroll>'),e.put("app/directive/photoListDirective.html",'<div class="center padding" ng-if="showErrorView"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-primary" ng-click="onReload">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><div class="center padding" ng-if="loading &&!data.length">\n<ion-spinner></ion-spinner></div><div class="list card" ng-repeat="gallery in data | orderBy:\'createdAt\':true"><div \nclass="item item-avatar" ng-click="load(gallery.user.get(\'username\'))" ion-affix \ndata-affix-within-parent-with-class="card"><img img-cache \nic-src="{{::gallery.user.get(\'photo\').url() || \'img/user.png\'}}" ic-default="img/user.png"><h2>\n{{ ::gallery.user.get(\'name\')}}</h2><p>{{ ::gallery.user.get(\'status\')}}</p><span>{{ gallery.createdAt | amTimeAgo}}\n</span></div><div class="item item-body" on-double-tap="like(gallery.id)" ng-model="gallery"><div \nclass="icon ion-ios-heart heart" ng-class="gallery.isLiked ? \'happy\' : \'broken\' "></div><i class="icon" ng-if="like">\n</i> <img id="{{ ::gallery.id}}" img-cache ic-src="{{gallery.image.url()}}" ic-default="img/user.png"></div><div \nclass="item item-buttons"><div class="row"><div class="col col-30"><ion-spinner ng-show="gallery.progress">\n</ion-spinner><button photo-like loading="gallery.progress" ng-model="gallery" ng-if="!gallery.progress" \nng-class="gallery.isLiked ? \'ion-ios-heart\' : \'ion-ios-heart-outline\' " class="button-clear button-icon button-heart">\n</button> <button ng-click="openComment(gallery.id)" ng-model="gallery" \nclass="button-clear button-icon ion-ios-chatbubble-outline"></button></div><div class="col album-name text-center" \nalbum-photo-grid album="gallery.album.id" edit="gallery.canEdit"><div ng-bind="gallery.album.attributes.title"></div>\n</div><div class="col text-right"><button ng-click="action(gallery)" photogram="{{ :: gallery.id }}" \nclass="button-clear button-icon ion-navicon"></button></div></div></div><div class="padding"><span class="likes" \nng-click="openLikers(gallery.id)"><i class="icon ion-ios-heart"></i> <span ng-if="!gallery.progress">\n{{ gallery.likesTotal }}</span> <span translate="likesText"></span></span><div class="list-comments"><div \nclass="comment-item"><span profile-modal username="gallery.user.get(\'username\')" class="username">\n{{ :: gallery.user.get(\'name\') }}</span> <span class="comment" ng-bind-html="gallery.title | hashtag "></span></div>\n<div class="comment-item" ng-repeat="item in gallery.comments |limitTo:3 | orderBy:\'createdAt\':true"><span \nclass="username" profile-modal username="gallery.user.get(\'username\')">{{ :: item.user.name }}</span> <span \nclass="comment" ng-bind-html="item.text | hashtag"></span></div><a class="comment-item" \nng-click="openComment(gallery.id)" ng-if="gallery.commentsTotal>3" translate="seeAllCommentText"></a></div><button \nclass="button button-block button-clear button-comment" ng-click="openComment(gallery.id)"><span \ntranslate="addComment"></span></button></div></div><ion-infinite-scroll on-infinite="onLoadMore()" \nng-if="moreDataCanBeLoaded" spinner></ion-infinite-scroll>'),e.put("app/directive/profile-edit-modal.html",'<ion-modal-view class="profile-edit"><ion-header-bar class="bar bar-{{theme}}"><button class="button button-clear" \nng-click="closeModal()" translate="cancel"></button><div class="title">{{ ::\'editProfile\' | translate }}</div>\n</ion-header-bar><ion-content class="view-avatar"><div class="step2"><form name="rForm" \nng-submit="submitUpdateProfile(rForm, form)" novalidate><img class="avatar" user-avatar ng-model="currentUser" \nng-src="{{ currentUser.photo.url() || \'img/user.png\' }}"><label class="item item-input"><i \nclass="icon ion-clipboard placeholder-icon"></i> <input required="required" type="text" name="name" \nng-model="form.name" placeholder="{{\'name\' | translate}}"></label><label class="item item-input"><i \nclass="icon ion-at placeholder-icon"></i> <input required="required" type="text" name="username" \nng-model="form.username" ng-minlength="4" ng-maxlength="12" ng-pattern="/^[a-zA-Z\'. -]+$/" \nplaceholder="{{\'username\' | translate}}"></label><label class="item item-input"><i \nclass="icon ion-earth placeholder-icon"></i> <input type="url" name="website" ng-model="form.website" \nplaceholder="{{\'site\' | translate}}"></label><label class="item item-input"><i \nclass="icon ion-information-circled placeholder-icon"></i> <input required="required" type="text" name="status" \nng-model="form.status" placeholder="{{\'status\' | translate}}"></label><ion-item class="item-divider" \ntranslate="privateInformation"></ion-item><label class="item item-input"><i \nclass="icon icon-envelope placeholder-icon"></i> <input type="email" name="email" ng-model="form.email" \ndisabled="disabled" ng-model-options="{debounce: 1000}" placeholder="user@example.com"></label><label \nclass="item item-input"><i class="icon ion-iphone placeholder-icon"></i> <input required="required" type="tel" \nname="phone" ng-model="form.phone" placeholder="{{\'phone\' | translate }}"></label><div class="padding"><button \ntype="submit" class="button button-block button-positive" translate="submit"></button></div></form></div></ion-content>\n</ion-modal-view>'),e.put("app/directive/profile-modal.html",'<ion-modal-view id="account-view"><ion-header-bar class="bar bar-{{theme}}"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ user.name }}</div></ion-header-bar><ion-content overflow-scroll="true"><div class="profile-top"><div class="row">\n<div class="col-25"><img class="avatar" ng-src="{{ user.photo._url || \'img/user.png\'}}"></div><div \nclass="col col-statics"><div class="row"><div class="row"><div class="col"><span class="text-center">\n{{ ::user.galleriesTotal || 0}}</span><h3 translate="postsText"></h3></div><div class="col"><span class="text-center">\n{{ user.followersTotal || 0}}</span><h3 translate="followersText"></h3></div><div class="col"><span \nclass="text-center">{{ ::user.followingsTotal || 0}}</span><h3 translate="followingText"></h3></div></div></div><div \nclass="row col-edit"><div class="col"><photogram-loading loading="loadingFollow"></photogram-loading><button \nng-class="{\'button-unfollow\': user.isFollow, \'button-follow\': !user.isFollow}" ng-click="follow()" class="button"><span\n ng-show="!user.isFollow" translate>Follow</span> <span ng-show="user.isFollow" translate>Following</span></button>\n</div></div></div></div><div class="padding"><span class="user-username">{{ user.name }}</span><p class="user-status">\n{{ user.status }}</p></div></div><div class="item bar"><div class="button-bar"><button \nclass="button button-icon icon ion-grid" ng-class="{active: tab.grid}" ng-click="changeTab(\'grid\')"></button> <button \nclass="button button-icon icon ion-drag" ng-class="{active: tab.list}" ng-click="changeTab(\'list\')"></button> <button \nclass="button button-icon icon ion-ios-location"></button></div></div><div class="item item-divider" \ntranslate="recent"></div><div class="tab" ng-if="tab.list"></div><div class="tab" ng-if="tab.grid"></div></ion-content>\n</ion-modal-view>'),e.put("app/directive/search-directive.html",'<label class="item item-input"><i class="icon ion-search placeholder-icon"></i> <input type="search" ng-model="input" \nplaceholder="{{\'SEARCH.FORM.INPUT\' | translate }}"> <button class="button button-icon" ng-if="input.length" \nng-click="clearSearch()"><i class="icon ion-close"></i></button></label>'),e.put("app/directive/settings-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar bar-{{theme}}"><button class="button button-clear" \nng-click="closeSettingModal()" translate="cancel"></button><div class="title" translate="settingTitle"></div>\n</ion-header-bar><ion-content class="animated fadeIn"><div class="list"><ion-language language="language">\n</ion-language><ion-toggle class="toggle-positive" ng-model="form.push"><h3><small translate="notificationText">\n</small></h3><p ng-if="form.push" translate="on"></p><p ng-if="!form.push" translate="off"></p></ion-toggle><ion-item \nclass="item-icon-right" href="http://photogramapp.com"><h3><small translate="terms"></small></h3><i \nclass="icon ion-ios-arrow-right"></i></ion-item><div class="text-center padding"><h1 translate="credits_title"></h1><p>\n<span translate="credits_text"></span></p><p><a href="http://market.ionic.io/starters/photogram-ionic-instagram-clone">\n<span translate="buy"></span></a></p><p>Thanks</p><p>\nIonic Framework, AngularJS, Sass, NPM, Github, Google, Apple, Paypal and all open source world</p><p>\nDev with  from Brazil by Willian Ribeiro Angelo</p></div></div><div class="padding"><button ng-click="logout()" \nclass="button button-block button-positive" translate="logout"></button></div></ion-content></ion-modal-view>'),e.put("app/mentio/people-mentions.html",'<ul class="list-group user-search"><li mentio-menu-item="person" ng-repeat="person in items" class="list-group-item">\n<img ng-src="{{person.imageUrl}}" class="user-photo"><div class="description"><span class="text-primary" \nng-bind-html="person.username | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></span> <em class="text-muted" \nng-bind="person.status | words:5"></em></div></li></ul>'),e.put("app/mentio/photo-mentions.html",'<ul class="list-group product-search demo-scrollable-menu"><li mentio-menu-item="product" ng-repeat="product in items" \nclass="list-group-item clearfix"><div class="row"><div class="col-xs-2 text-center"><img ng-src="{{product.imageUrl}}" \nclass="product-photo"></div><div class="col-xs-10"><h4 class="list-group-item-heading">{{product.title | words:5}}</h4>\n<p class="list-group-item-text">{{product.description | words:7}}</p></div></div></li></ul>'),e.put("app/component/ion-language/ion-language.html",'<button class="button button-block button-clear button-{{theme}} button-language">{{language.translation | translate}} \n<i class="icon ion-android-arrow-dropdown"></i></button>'),e.put("app/component/ion-language/modal-language.html",'<ion-modal-view><ion-header-bar class="bar bar-positive"><h1 class="title" translate="selectLanguageText"></h1><button \nclass="button button-clear" ng-click="closeModal()" translate="cancel"></button></ion-header-bar><div \nclass="bar bar-subheader item-input-inset bar-positive"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="search" placeholder="{{\'searchText\' | translate}}" \nng-model="searchValue"></label><button type="button" class="button button-clear" ng-show="searchValue.length" \nng-click="searchValue=\'\'" translate>Clear</button></div><ion-content class="has-subheader"><ion-list><ion-item \nclass="item" ng-click="selectLanguage(item)" ng-repeat="item in languages | filter:searchValue" \nng-bind-html="item.translation | translate"></ion-item></ion-list></ion-content></ion-modal-view>'),e.put("app/component/ion-slideshow/image-popover.html",'<ion-modal-view id="ion-slideshow"><ion-header-bar class="bar bar-dark"><a ng-click="closeModal()" \nclass="button button-icon icon ion-ios-close-empty"></a><div class="title"></div><a \nclass="button button-icon icon ion-android-more-vertical" ng-if="canEdit" ng-click="openPopover($event)"></a>\n</ion-header-bar><ion-content><ion-slide-box on-slide-changed="slideChanged(index)" show-pager="true" \nactive-slide="activeSlide"><ion-slide ng-repeat="item in allImages"><img img-cache ic-default="img/user.png" \nic-src="{{item.image._url}}" class="fullscreen-image"><h1 ng-if="item.title">{{item.title}}</h1></ion-slide>\n</ion-slide-box></ion-content></ion-modal-view>'),e.put("app/component/ion-slideshow/ion-slideshow.popover.html",'<ion-popover-view><ion-content><div class="list"><a class="item item-icon-left" ng-click="deletePhoto()"><i \nclass="icon ion-ios-trash-outline"></i> <span translate="delete"></span></a></div></ion-content></ion-popover-view>'),e.put("app/component/ion-slideshow/video-popover.html",'<div class="modal transparent fullscreen-player" ng-click="closeModal()"><video ng-src="{{clipSrc}}" class="centerme" \ncontrols="controls" autoplay></video></div>'),e.put("app/main/account-friend-list/account-friend-list.html","<ion-view><ion-content></ion-content></ion-view>"),e.put("app/main/feedback/feedback-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar bar-{{theme}}"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title" \ntranslate="feedback"></div></ion-header-bar><ion-content><form name="myForm" novalidate="novalidate" \nng-submit="submitFeedback(myForm, form)"><label class="item item-input"><i class="icon icon-envelope placeholder-icon">\n</i> <input required="required" type="text" name="title" ng-model="form.title" \nplaceholder="{{\'feedback\' | translate}}"></label><label class="item item-input item-select"><i \nclass="icon ion-ios-information-outline placeholder-icon"></i><div class="input-label" translate>subject</div><select \nng-model="form.subject"><option selected="selected" translate>complaint</option><option translate>bug</option><option \ntranslate>suggestion</option></select></label><label class="item item-input"><i \nclass="icon ion-ios-compose-outline placeholder-icon"></i><textarea ng-model="form.message" \nplaceholder="{{\'message\' | translate}}"></textarea></label><div class="padding"><button \nclass="button button-block button-positive" type="submit" translate="{{\'submit\' | translate}}"></button></div></form>\n</ion-content></ion-modal-view>'),e.put("app/main/gallery-comment/gallery-comment.html",'<ion-view id="view-comment" cache-view="false"><ion-nav-bar class="bar bar-{{theme}}"><ion-nav-buttons side="left">\n<button class="button button-icon button-clear ion-ios-arrow-left" ng-click="$ionicGoBack()"></button>\n</ion-nav-buttons><ion-nav-title><div class="title"><span translate="commentPhotoText"></span></div></ion-nav-title>\n</ion-nav-bar><ion-content><div class="padding center" ng-if="loading"><ion-spinner></ion-spinner></div><ion-list \nclass="list" ng-if="!loading" can-swipe="true"><div class="item item-avatar"><img img-cache ic-default="img/user.png" \nic-src="{{ ::gallery.imageThumb.url()|| \'./img/user.png\'}}"><p></p><h2>{{ ::gallery.profile.get(\'username\') }}</h2><div\n class="text">{{ ::gallery.title }}</div><p></p><div class="row"><p>{{ ::gallery.createdAt | amTimeAgo }}</p></div>\n</div><ion-item ng-repeat="item in comments | orderBy:\'createdAt\':false" class="item item-avatar"><img img-cache \nic-default="img/user.png" ic-src="{{ ::item.user.photo._url || \'./img/user.png\'}}"><p></p><h2>\n{{ ::item.user.username }}</h2><div class="text">{{ ::item.text }}</div><p></p><div class="row"><p>\n{{ ::item.createdAt | amTimeAgo }}</p></div><div ng-if="item.canEdit"><ion-option-button class="button-info" \nng-click="editComment(item, $index)" translate="edit">Edit</ion-option-button><ion-option-button \nclass="button-assertive" ng-click="deleteComment(item, $index)" translate="remove">Remove</ion-option-button></div>\n</ion-item></ion-list><div class="center-ico" ng-if="nocomments"><i class="icon ion-ios-chatbubble-outline"></i><h1 \ntranslate="noComments"></h1></div></ion-content><form name="rForm" ng-submit="submitComment(rForm, form)" novalidate>\n<ion-footer-bar ng-hide="loading" class="bar-stable item-input-inset message-footer" keyboard-attach><label \nclass="item-input-wrapper" ng-class="{\'item-invalid\': rForm.message.$invalid && !rForm.message.$pristine}"><textarea \nname="message" mentio mentio-trigger-char="\'@\'" mentio-items="people" \nmentio-template-url="app/mentio/people-mentions.html" mentio-search="searchPeople(term)" \nmentio-select="getPeopleTextRaw(item)" mentio-id="\'theTextArea\'" ng-trim="false" ng-model="form.text" id="textComment" \nplaceholder="{{\'commentInHere\' | translate}}" required minlength="1" maxlength="1500">\n                </textarea>\n</label><div class="footer-btn-wrap"><button class="button button-positive button-outline" type="submit" \nng-disabled="!form.text || form.text === \'\'" translate="submit"></button></div></ion-footer-bar></form></ion-view>'),
e.put("app/main/loading/loading.html",'<ion-view id="user-layout" class="bg-animate"><ion-content></ion-content></ion-view>'),e.put("app/main/profile/profile.html",'<ion-view cache-view="false" id="account-view"><ion-nav-bar class="bar bar-{{theme}}"><ion-nav-back-button>\n</ion-nav-back-button></ion-nav-bar><ion-nav-title><span>{{ vm.user.name }}</span></ion-nav-title><ion-content \nscroll-sista="header-tabs" class="animated fadeIn"><ion-refresher pulling-text="Loading" on-refresh="onReload()">\n</ion-refresher><div class="profile-top"><div class="row"><div class="col-25"><img class="avatar" user-avatar \nng-model="vm.user" img-cache ic-default="img/user.png" ic-src="{{ vm.user.photo._url || \'img/user.png\' }}"></div><div \nclass="col col-statics"><div class="row"><div class="col"><span class="text-center">{{ vm.user.galleriesTotal || 0}}\n</span><h3 translate="postsText"></h3></div><div class="col" ng-click="vm.openFollowers()"><span class="text-center">\n{{ vm.user.followersTotal || 0}}</span><h3 translate="followersText"></h3></div><div class="col" \nng-click="vm.openFollowing()"><span class="text-center">{{ vm.user.followingsTotal || 0}}</span><h3 \ntranslate="followingText"></h3></div></div><div class="row col-edit"><div class="col center" ng-if="vm.loading">\n<ion-spinner></ion-spinner></div><div class="col" ng-if="vm.isMe && !vm.loading"><button profile-modal-edit \nuser="vm.user" class="button"><div translate="editProfile"></div></button></div><div class="col" \nng-if="!vm.isMe && !vm.loading"><button \nng-class="{\'button-unfollow\': vm.user.isFollow, \'button-follow\': !vm.user.isFollow}" ng-click="vm.follow()" \nclass="button"><span ng-show="!vm.user.isFollow" translate>follow</span> <span ng-show="vm.user.isFollow" translate>\nunfollow</span></button></div></div></div></div><div class="padding"><span class="user-username">{{ vm.user.name }}\n</span><p class="user-status">{{ vm.user.status }}</p></div></div><div class="item bar"><div class="button-bar"><button\n class="button button-icon icon ion-drag" ng-class="{\'active\': vm.tab.list}" ng-click="vm.changeTab(\'list\')"></button> \n<button class="button button-icon icon ion-grid" ng-class="{\'active\': vm.tab.grid}" ng-click="vm.changeTab(\'grid\')">\n</button> <button class="button button-icon icon ion-ios-camera-outline" ng-class="{\'active\': vm.tab.album}" \nng-click="vm.changeTab(\'album\')"></button> <button class="button button-icon icon ion-ios-location-outline" \nng-class="{\'active\': vm.tab.map}" ng-click="vm.changeTab(\'map\')"></button></div></div><div ng-if="!vm.loading"><div \nclass="tab" ng-if="vm.tab.list && !vm.loading"><div class="item item-divider" translate="recent"></div><photo-list \nusername="vm.user.username" on-reload="onReload"></photo-list></div><div class="tab" \nng-if="vm.tab.grid && !vm.loading"><div class="item item-divider" translate="recent"></div><photo-grid \nusername="vm.user.username" on-reload="onReload"></photo-grid></div><div class="tab" \nng-if="vm.tab.album && !vm.loading"><div class="item item-divider" translate="albums"></div><album-grid \nusername="vm.user.username" on-reload="onReload"></album-grid></div><div class="tab" ng-if="vm.tab.map && !vm.loading">\n<div class="item item-divider" translate="map"></div><map-photo-user username="vm.user.username" on-reload="onReload">\n</map-photo-user></div></div></ion-content></ion-view>'),e.put("app/main/profile-photo/profile-photo.html",'<ion-view cache-view="false" id="account-view"><ion-nav-bar class="bar bar-{{theme}}"><ion-nav-back-button>\n</ion-nav-back-button></ion-nav-bar><ion-nav-title><span translate="photo"></span></ion-nav-title><ion-content \nscroll-sista="header-tabs" class="animated fadeIn"><photo-list id="vm.id" profile="true" load="vm.openProfile" \nopen-likers="vm.openLikers" on-reload="onReload"></photo-list></ion-content></ion-view>'),e.put("app/main/share/share-modal.html",'<ion-modal-view class="modal-share"><form name="rForm" novalidate><ion-header-bar class="bar bar-{{theme}}"><button \nclass="button button-clear button-clear" ng-click="close()" translate="cancel"></button><div class="title" \ntranslate="shareGalleryText"></div><button class="button button-clear" ng-click="submit(rForm, form)" \ntranslate="submit"></button></ion-header-bar><ion-content><div class="list"><div class="item item-thumbnail-left"><img \nng-src="{{image}}" ng-click="editFilter()"><textarea mentio mentio-trigger-char="\'@\'" mentio-items="people" \nmentio-template-url="app/mentio/people-mentions.html" mentio-search="searchPeople(term)" \nmentio-select="getPeopleTextRaw(item)" mentio-id="\'theTextArea\'" ng-trim="false" type="text" ng-model="form.title" \nplaceholder="{{ \'description\'|translate }}"></textarea></div><label class="item item-input item-select"><div \nclass="input-label" translate="privacity"></div><select><option value="public" translate="public"></option><option \nvalue="follow" translate="followers"></option><option value="me" translate="me"></option></select></label><div \nclass="item item-divider" translate="shareLocation"></div><div class="item item-icon-left" ion-location \nng-model="form.address" ng-if="!form.address.resume"><i class="icon ion-ios-location"></i> <span translate="addLocale">\n</span></div><a class="item item-icon-left item-button-right" ng-if="form.address.resume"><i \nclass="icon ion-ios-location"></i><h2>{{form.address.name || form.address.resume}}</h2><p>{{form.address.resume}}</p>\n<button class="button button-icon" ng-click="closeAddress()"><i class="icon ion-ios-close"></i></button></a><div \nclass="item item-divider" translate="selectAlbumText"></div><div class="item item-thumbnail-left" gallery-album-modal \nng-model="form.album"><img ng-src="{{form.album.imageThumb._url || \'img/albumnone.png\'}}"><h2 \nng-if="!form.album.title" translate="clickSelectAlbum"></h2><h2 ng-if="form.album" ng-bind="form.album.title"></h2><p \nng-if="form.album">{{form.album.qtyPhotos}} photos</p></div></div></ion-content></form></ion-modal-view>'),e.put("app/main/tab/main-tab.html",'<ion-view cache-view="true"><ion-nav-bar class="bar bar-{{theme}}"><ion-nav-back-button></ion-nav-back-button>\n</ion-nav-bar><ion-tabs class="tabs-light tabs-photogram"><ion-tab icon-on="ion-ios-home" \nicon-off="ion-ios-home-outline" ui-sref="tab.home"><ion-nav-view name="tabHome"></ion-nav-view></ion-tab><ion-tab \nicon-on="ion-ios-world" icon-off="ion-ios-world-outline" ui-sref="tab.search"><ion-nav-view name="tabSearch">\n</ion-nav-view></ion-tab><ion-tab class="middle" icon-on="ion-ios-camera" icon-off="ion-ios-camera-outline" \nng-click="vm.postPhoto()"><ion-nav-view name="tabCapture"></ion-nav-view></ion-tab><ion-tab icon-on="ion-ios-heart" \nicon-off="ion-ios-heart-outline" badge="badge" ui-sref="tab.activity"><ion-nav-view name="tabActivity"></ion-nav-view>\n</ion-tab><ion-tab icon-on="ion-ios-person" icon-off="ion-ios-person-outline" ui-sref="tab.account"><ion-nav-view \nname="tabProfile"></ion-nav-view></ion-tab></ion-tabs></ion-view>'),e.put("app/main/tab-account/account.html",'<ion-view cache-view="false" id="account-view"><ion-nav-title><span>{{ vm.user.attributes.name }}</span>\n</ion-nav-title><ion-nav-buttons side="right"><button settings-modal class="button button-icon icon ion-gear-a">\n</button></ion-nav-buttons><ion-content><div class="profile-top"><div class="row"><div class="col-25"><img \nclass="avatar" user-avatar ng-model="currentUser" img-cache ic-default="img/user.png" \nic-src="{{ currentUser.photo.url() || \'img/user.png\' }}"></div><div class="col col-statics"><div class="row"><div \nclass="col"><span ng-if="!vm.loading" class="text-center">{{ vm.user.attributes.galleriesTotal || 0}}</span>\n<ion-spinner ng-if="vm.loading"></ion-spinner><h3 translate="postsText"></h3></div><div class="col" \nng-click="vm.openFollowers()"><span ng-if="!vm.loading" class="text-center">{{ vm.user.attributes.followersTotal || 0}}\n</span><ion-spinner ng-if="vm.loading"></ion-spinner><h3 translate="followersText"></h3></div><div class="col" \nng-click="vm.openFollowing()"><span ng-if="!vm.loading" class="text-center">\n{{ vm.user.attributes.followingsTotal || 0}}</span><ion-spinner ng-if="vm.loading"></ion-spinner><h3 \ntranslate="followingText"></h3></div></div><div class="row col-edit"><div class="col"><button profile-modal-edit \nuser="vm.user" class="button"><div translate="editProfile"></div></button></div></div></div></div><div class="padding">\n<span class="user-username">{{ vm.user.attributes.name }}</span><p class="user-status">{{ vm.user.attributes.status }}\n</p></div></div><div class="item bar"><div class="button-bar"><button class="button button-icon icon ion-drag" \nng-class="{\'active\': vm.tab.list}" ng-click="vm.changeTab(\'list\')"></button> <button \nclass="button button-icon icon ion-grid" ng-class="{\'active\': vm.tab.grid}" ng-click="vm.changeTab(\'grid\')"></button> \n<button class="button button-icon icon ion-ios-camera-outline" ng-class="{\'active\': vm.tab.album}" \nng-click="vm.changeTab(\'album\')"></button> <button class="button button-icon icon ion-ios-location-outline" \nng-class="{\'active\': vm.tab.map}" ng-click="vm.changeTab(\'map\')"></button></div></div><div class="tab" \nng-if="vm.tab.list && !vm.loading"><div class="item item-divider" translate="recent"></div><photo-list \nusername="vm.user.attributes.username" on-reload="onReload"></photo-list></div><div class="tab" \nng-if="vm.tab.grid && !vm.loading"><div class="item item-divider" translate="recent"></div><photo-grid \nusername="vm.user.attributes.username" on-reload="onReload"></photo-grid></div><div class="tab" \nng-if="vm.tab.album && !vm.loading"><div class="item item-divider" translate="albums"></div><album-grid \nusername="vm.user.attributes.username" on-reload="onReload"></album-grid></div><div class="tab" \nng-if="vm.tab.map && !vm.loading"><div class="item item-divider" translate="map"></div><map-photo-user \nusername="vm.user.attributes.username" on-reload="onReload"></map-photo-user></div></ion-content></ion-view>'),e.put("app/main/tab-activity/activity.html",'<ion-view class="list-activity"><ion-nav-title><span translate="activities"></span></ion-nav-title><ion-content><div \nclass="center padding" ng-if="loading &&!data.length"><ion-spinner></ion-spinner></div><div class="center padding" \nng-if="showErrorView"><div class="error"><i class="icon icon-large ion-ios-cloud-download-outline"></i><p>\n{{ "errorText" | translate }}</p><button class="button button-positive" ng-click="onReload()">\n{{ "tryAgainText" | translate }}</button></div></div><div class="center padding" ng-if="showEmptyView"><div \nclass="error"><i class="icon icon-large ion-android-alert"></i><p>{{ "activityNotFoundText" | translate }}</p></div>\n</div><ion-refresher pulling-text="{{\'loadingText\'| translate}}" on-refresh="onReload()"></ion-refresher><div \nclass="list"><div class="item item-avatar item-animate1" ng-repeat="item in data | orderBy:\'createdAt\':true"><img \nimg-cache ic-default="img/user.png" ic-src="{{ item.user.photo._url  || \'./img/user.png\'}}"><h2 \nng-click="openProfile(item.user.username)">{{ item.user.username}}</h2><div class="text">{{ item.action | translate }}\n</div><p>{{ item.createdAt | amTimeAgo }}</p><div class="img-right" ng-if="item.item.gallery"><img img-cache \nic-default="img/user.png" ic-src="{{ item.item.gallery.attributes.imageThumb._url}}"></div><div \nclass="item-button-right" ng-if="!item.item.gallery"><button class="button button-positive" \nng-disabled="item.user.loading" \nng-class="{\'button-unfollow\': item.user.isFollow, \'button-outline\': !item.user.isFollow}" ng-click="follow(item.user)">\n<div ng-show="!item.user.isFollow" translate>follow</div><div ng-show="item.user.isFollow" translate>unfollow</div>\n</button></div></div></div><ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded" spinner \ndistance="1%"></ion-infinite-scroll></ion-content></ion-view>'),e.put("app/main/tab-home/home.html",'<ion-view id="view-home"><ion-nav-buttons side="left"><button \nclass="button button-icon icon ion-ios-personadd-outline" ui-sref="tab.homeUserlist"></button></ion-nav-buttons>\n<ion-nav-title><span class="logo-ParseGram"></span></ion-nav-title><div class="bar bar-subheader bar-positive"><div \nclass="button-bar"><button class="button button-block button-positive icon-left ion-android-globe" \nng-click="vm.onFeed(\'public\')" ng-class="{\'active\': vm.type ===\'public\'}" translate="public"></button> <button \nclass="button button-block button-positive icon-left ion-ios-people" ng-click="vm.onFeed(\'follow\')" \nng-class="{\'active\': vm.type ===\'follow\'}" translate="followers"></button> <button \nclass="button button-block button-positive icon-left ion-ios-locked" ng-click="vm.onFeed(\'me\')" \nng-class="{\'active\': vm.type ===\'me\'}" translate="me"></button></div></div><ion-content class="has-header">\n<ion-refresher pulling-text="Loading" on-refresh="onReload()"></ion-refresher><photo-list profile="true" \ntype="vm.type" load="vm.openProfile" open-likers="vm.openLikers" on-reload="onReload"></photo-list></ion-content>\n</ion-view>'),e.put("app/main/tab-search/search.html",'<ion-view><ion-nav-title><span>{{ \'searchText\' | translate }}</span></ion-nav-title><ion-nav-buttons side="right">\n<button class="button button-icon ion-ios-location" ui-sref="tab.map"></button></ion-nav-buttons><ion-header-bar \nclass="bar bar-{{theme}} bar-subheader item-input-inset"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="text" ng-model="searchValue" ng-change="onSearch()" \nng-model-options="{debounce:1000}" style="text-transform:lowercase" placeholder="{{ \'searchText\' | translate }}">\n</label><button class="button button-clear" ng-if="searchValue.length>1" ng-click="clearSearch()" translate="cancel">\n</button></ion-header-bar><ion-content class="has-subheader"><ion-refresher pulling-text="Loading" \non-refresh="onReload()"></ion-refresher><div class="center padding" ng-if="showErrorView"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-primary" ng-click="onReload">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><div class="center padding" ng-if="loading"><ion-spinner>\n</ion-spinner></div><div class="row" ng-if="$index % 3 === 0" ng-repeat="image in data | orderBy:\'createdAt\':true"><div\n class="col col-33" ui-sref="tab.searchProfile({username: data[$index].user.username})"><img profile-modal \nuser="data[$index].user.obj" img-cache ic-default="img/user.png" ic-src="{{ data[$index].imageThumb._url}}" \nwidth="100%"></div><div class="col col-33" ng-if="$index + 1" \nui-sref="tab.searchProfile({username: data[$index].user.username})"><img profile-modal \nuser="data[$index + 1].user.obj" img-cache ic-default="img/user.png" ic-src="{{ data[$index + 1].imageThumb._url}}" \nwidth="100%"></div><div class="col col-33" ng-if="$index + 2" \nui-sref="tab.searchProfile({username: data[$index].user.username})"><img profile-modal \nuser="data[$index + 2].user.obj" img-cache ic-default="img/user.png" ic-src="{{ data[$index + 2].imageThumb._url}}" \nwidth="100%"></div></div><ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded" spinner \ndistance="1%"></ion-infinite-scroll></ion-content></ion-view>'),e.put("app/main/tab-search-map/searchMap.html",'<ion-view id="view-map"><ion-nav-title>{{ \'mapTitle\' | translate }}</ion-nav-title><ion-content scroll="false"><div \nid="map_canvas" data-tap-disabled="true"></div></ion-content><ion-footer-bar><div class="row" ng-if="loading"><div \nclass="col"><div class="center"><ion-spinner></ion-spinner></div></div></div><button ng-if="!loading" \nclass="button button-positive button-block button-outline" ng-click="onSearchHere()">{{ \'searchInHere\' | translate }}\n</button></ion-footer-bar></ion-view>'),e.put("app/main/user-avatar/user-avatar.html",'<ion-view><ion-header-bar class="bar-positive"><h1 class="title" translate="Profile"></h1></ion-header-bar>\n<ion-content><div class="row step1"><div class="col"><img class="avatar" user-avatar ng-model="user" \nng-src="{{ currentUser.photo.url() || \'img/user.png\' }}"></div></div><div class="step2"><form name="myForm" \nnovalidate="novalidate" on-submit="submitAvatar(myForm, form)"><label class="item item-input validated"><i \nclass="icon icon-envelope placeholder-icon"></i> <input required="required" type="email" name="email" \nng-model="form.email" placeholder="user@example.com"></label><label class="item item-input validated"><i \nclass="icon ion-at placeholder-icon"></i> <input required="required" type="text" name="username" \nng-model="form.username" ng-minlength="4" ng-maxlength="12" ng-model-options="{debounce: 1000}" \nplaceholder="{{\'yourLogin\' | translate}}"></label><div ng-if="myForm.username.$dirty"><div \nng-messages="myForm.email.$error" class="validation-error"><div ng-message="required" translate="usernameRequired">\n</div><div ng-message="email" translate="usernameInUse"></div></div><div ng-messages="myForm.email.$pending" \nclass="validation-pending"><div ng-message="email" translate="checkingUsername"></div></div></div><label \nclass="item item-input validated"><i class="icon icon-user placeholder-icon"></i> <input required type="text" \nname="name" ng-model="form.name" placeholder="{{\'name\'|translate}}"></label><label class="item item-input validated"><i\n class="icon ion-pound placeholder-icon"></i> <input required type="text" name="status" ng-model="form.status" \nplaceholder="{{\'status\'|translate}}"></label><div class="padding"><button class="button button-block button-positive" \ntype="submit" translate="{{\'submit\' | translate}}"></button></div></form></div></ion-content></ion-view>'),e.put("app/main/user-followers/user-followers.html",'<ion-view id="user-list"><ion-nav-title><span translate="followersText"></span></ion-nav-title><ion-header-bar \nclass="bar bar-{{theme}} bar-subheader item-input-inset"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="text" ng-model="searchValue" \nstyle="text-transform:lowercase" placeholder="{{ \'searchText\' | translate }}"></label><button \nclass="button button-positive button-clear" ng-if="searchValue.length>1" ng-click="clearSearch()" translate="cancel">\n</button></ion-header-bar><ion-content class="has-subheader"><div class="center padding" ng-if="vm.loading">\n<ion-spinner></ion-spinner></div><div class="list"><div ng-repeat="user in vm.users | filter:searchValue"><a \nclass="item item-avatar item-button-right"><img img-cache ic-default="img/user.png" \nic-src="{{ user.photo._url || \'img/user.png\'}}" ng-click="vm.openProfile(user)"><h2 ng-click="vm.openProfile(user)">\n{{user.username}}</h2><p>{{user.status}}</p><button class="button button-positive" \nng-class="{\'button-unfollow\': user.isFollow, \'button-outline\': !user.isFollow}" ng-click="vm.follow(user)"><div \nng-show="!user.isFollow" translate>follow</div><div ng-show="user.isFollow" translate>unfollow</div></button> </a><span\n class="row"><span class="col" ng-repeat="gallery in user.galleries"><img img-cache ic-default="img/user.png" \nic-src="{{ gallery.imageThumb._url}}" id="{{ ::gallery.id}}"></span></span></div></div></ion-content></ion-view>'),e.put("app/main/user-following/user-following.html",'<ion-view id="user-list"><ion-nav-title><span translate="followingText"></span></ion-nav-title><ion-header-bar \nclass="bar bar-{{theme}} bar-subheader item-input-inset"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="text" ng-model="searchValue" \nstyle="text-transform:lowercase" placeholder="{{ \'searchText\' | translate }}"></label><button \nclass="button button-positive button-clear" ng-if="searchValue.length>1" ng-click="clearSearch()" translate="cancel">\n</button></ion-header-bar><ion-content class="has-subheader"><div class="center padding" ng-if="vm.loading">\n<ion-spinner></ion-spinner></div><div class="list"><div ng-repeat="user in vm.users | filter:searchValue"><a \nclass="item item-avatar item-button-right"><img img-cache ic-default="img/user.png" \nic-src="{{ user.photo._url || \'img/user.png\'}}" ng-click="vm.openProfile(user)"><h2 ng-click="vm.openProfile(user)">\n{{user.username}}</h2><p>{{user.status}}</p><button class="button button-positive" \nng-class="{\'button-unfollow\': user.isFollow, \'button-outline\': !user.isFollow}" ng-click="vm.follow(user)"><div \nng-show="!user.isFollow" translate>follow</div><div ng-show="user.isFollow" translate>unfollow</div></button> </a><span\n class="row"><span class="col" ng-repeat="gallery in user.galleries"><img img-cache ic-default="img/user.png" \nic-src="{{ gallery.imageThumb._url}}" id="{{ ::gallery.id}}"></span></span></div></div></ion-content></ion-view>'),e.put("app/main/user-intro/user-intro.html",'<ion-view id="user-layout" class="view-intro bg-animate" cache-view="false"><div class="bar bar-header"><ion-language>\n</ion-language></div><ion-content scroll="false"><div class="intro-slider"><ion-slide-box active-slide="slideIndex" \nshow-pager="true" on-slide-changed="vm.slideChanged($index)"><ion-slide ng-repeat="item in vm.slides track by $index">\n<div class="content" ng-if="$index == vm.slideIndex"><span class="top"><h2>{{ item.text | translate }}</h2></span><div \nclass="phone {{ vm.device }}"><img ng-src="{{ item.img }}"></div></div></ion-slide></ion-slide-box></div><button \nclass="button button-positive button-fab left" ng-if="vm.slideIndex" ng-click="vm.previous()"><i \nclass="icon ion-ios-arrow-left"></i></button> <button class="button button-positive button-fab right" \nng-hide="vm.slideIndex === vm.slides.length-1" ng-click="vm.next()"><i class="icon ion-ios-arrow-right"></i></button>\n</ion-content><ion-footer-bar><facebook-login></facebook-login><div class="row"><button \nclass="button button-block button-calm" translate="register" signup-modal></button> <button \nclass="button button-block button-positive" translate="signin" signin-modal></button></div></ion-footer-bar></ion-view>'),e.put("app/main/user-layout/user-layout.html",'<ion-view id="user-layout" class="bg-animate"><ion-content padding="false"><ion-nav-view></ion-nav-view></ion-content>\n</ion-view>'),e.put("app/main/user-likers/user-likers.html",'<ion-view id="user-list"><ion-nav-title><span translate="likersText"></span></ion-nav-title><ion-header-bar \nclass="bar bar-subheader item-input-inset"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="text" ng-model="searchValue" \nstyle="text-transform:lowercase" placeholder="{{ \'searchText\' | translate }}"></label><button \nclass="button button-positive button-clear" ng-if="searchValue.length>1" ng-click="clearSearch()" translate="cancel">\n</button></ion-header-bar><ion-content class="has-subheader"><div class="center padding" ng-if="vm.loading">\n<ion-spinner></ion-spinner></div><div class="list"><div ng-repeat="user in vm.users | filter:searchValue"><a \nclass="item item-avatar item-button-right"><img img-cache ic-default="img/user.png" \nng-src="{{ user.photo._url || \'img/user.png\'}}" ng-click="vm.openProfile(user)"><h2 ng-click="vm.openProfile(user)">\n{{user.username}}</h2><p>{{user.status}}</p><button class="button button-positive" \nng-class="{\'button-unfollow\': user.isFollow, \'button-outline\': !user.isFollow}" ng-click="vm.follow(user)"><div \nng-show="!user.isFollow" translate>Follow</div><div ng-show="user.isFollow" translate>Unfollow</div></button> </a><span\n class="row"><span class="col" ng-repeat="gallery in user.galleries"><img img-cache ic-default="img/user.png" \nng-src="{{ gallery.imageThumb._url}}" id="{{ ::gallery.id}}"></span></span></div></div></ion-content></ion-view>'),e.put("app/main/user-list/user-list.html",'<ion-view id="user-list"><ion-nav-title><span translate="findPeople"></span></ion-nav-title><ion-header-bar \nclass="bar bar-{{theme}} bar-subheader item-input-inset"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="text" ng-model="searchValue" ng-change="onSearch()" \nng-model-options="{debounce:1000}" style="text-transform:lowercase" placeholder="{{ \'searchText\' | translate }}">\n</label><button class="button button-clear" ng-if="searchValue.length>1" ng-click="clearSearch()" translate="cancel">\n</button></ion-header-bar><ion-content class="has-subheader"><div class="center padding" ng-if="showErrorView"><div \nclass="error"><i class="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button\n class="button button-primary" ng-click="onReload()">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><ion-refresher pulling-text="{{\'loadingText\'| translate}}" \non-refresh="onReload()"></ion-refresher><div class="center padding" ng-if="loading &&!data.length"><ion-spinner>\n</ion-spinner></div><div class="list"><div ng-repeat="user in data "><a class="item item-avatar item-button-right"><img\n img-cache ic-default="img/user.png" ic-src="{{ user.photo._url || \'img/user.png\'}}" ng-click="openProfile(user)"><h2 \nng-click="openProfile(user)">{{user.username}}</h2><p>{{user.status}}</p><button class="button button-positive" \nng-disabled="user.loading" ng-class="{\'button-unfollow\': user.isFollow, \'button-outline\': !user.isFollow}" \nng-click="follow(user)"><div ng-show="!user.isFollow" translate>follow</div><div ng-show="user.isFollow" translate>\nunfollow</div></button> </a><span class="row"><span class="col" ng-repeat="gallery in user.galleries"><img img-cache \nic-default="img/user.png" ic-src="{{ gallery.imageThumb._url}}" id="{{ ::gallery.id}}"></span></span></div></div>\n<ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded" spinner distance="1%">\n</ion-infinite-scroll></ion-content></ion-view>'),e.put("app/main/user-merge/merge.html",'<ion-view id="user-layout" class="bg-animate" cache-view="false"><ion-content class="view-avatar padding"><div \nclass="row step1"><div class="col"><img class="avatar" user-avatar \nng-src="{{ tempUser.attributes.photo._url || \'./img/user.png\' }}"></div></div><div class="step2"><form name="myForm" \nnovalidate="novalidate" ng-submit="submitMerge(myForm, form)"><label class="item item-input"><i \nclass="icon icon-envelope placeholder-icon"></i> <input required="required" type="email" name="email" \nng-model="form.email" disabled="disabled" placeholder="user@example.com"></label><label class="item item-input"><i \nclass="icon icon-user placeholder-icon"></i> <input required="required" type="text" name="username" \nng-model="form.username" username-validator ng-minlength="4" ng-maxlength="12" ng-model-options="{debounce: 1000}" \nng-pattern="/^[a-zA-Z\'. -]+$/" placeholder="{{\'yourLogin\' | translate}}"></label><div ng-if="myForm.username.$dirty">\n<div ng-messages="myForm.email.$error" class="validation-error"><div ng-message="required" \ntranslate="usernameRequired"></div><div ng-message="email" translate="usernameInUse"></div></div><div \nng-messages="myForm.email.$pending" class="validation-pending"><div ng-message="email" translate="checkingUsername">\n</div></div></div><label class="item item-input"><i class="icon icon-lock placeholder-icon"></i> <input required \ntype="password" name="password" ng-model="form.password" placeholder="{{\'password\'|translate}}"></label><button \nclass="button button-block button-outline button-light" type="submit" translate="{{\'submit\' | translate}}"></button>\n</form></div><div class="padding step3"><button ng-click="vm.submit(rForm, vm.form)" \nclass="button button-block button-facebook"><i class="icon ion-social-facebook"></i> <span translate="mergeAccount">\n</span></button></div></ion-content></ion-view>'),e.put("app/component/ion-photo/view/filter.modal.html",'<ion-modal-view id="photo-filter"><ion-header-bar class="bar bar-{{theme}}"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModalFilter()"></button><div \nclass="title">{{ \'Filter\' | translate }}</div><button class="button button-icon" ng-click="submitFilter()"><i \nclass="icon ion-ios-arrow-thin-right"></i></button></ion-header-bar><ion-content><div class="box-image"><img \nid="image" src="{{form.photo}}" ng-hide="loading"><ion-spinner ng-show="loading"></ion-spinner></div><img id="image3" \nsrc="" style="display: none"><div ng-show="showFilter" class="slider-filters animate1"><ion-scroll direction="x" \nclass="image-filter"><a ng-repeat="filter in imageFilters" ng-click="applyFilter(filter)"><p>{{ filter.name }}</p><img \nid="{{filter.id}}" class="img-filter" src=""></a></ion-scroll><div class="row"><div class="col"><button \nclass="button button-block bold">Filter</button></div><div class="col"><button class="button button-block" \nng-click="actionShowFilter(false)">Edit</button></div></div></div><div ng-hide="showFilter" class="slider-filters"><div\n ng-show="filterEdit" class="slider-filters"><p class="text-center">{{filter.name}}</p><div \nclass="item range range-positive"><input type="range" min="-100" max="100" ng-model="filter.slider.value" \nng-model-options="{debounce:100}" step="0.1"></div><div class="row"><div class="col"><button \nclass="button button-block" ng-click="cancelFilter(filter)">Cancel</button></div><div class="col"><button \nclass="button button-block bold" ng-click="doneFilter()">Done</button></div></div></div><div ng-show="!filterEdit" \nclass="slider-filters"><ion-scroll direction="x"><a ng-repeat="filter in filters" ng-click="selectFilter(filter)"><p>\n{{ filter.name }}</p><i class="icon {{filter.icon}}"></i> </a><a ng-click="reset()"><p>Reset</p><i \nclass="icon ion-android-refresh"></i></a></ion-scroll><div class="row"><div class="col"><button \nclass="button button-block" ng-click="actionShowFilter(true)">Filter</button></div><div class="col"><button \nclass="button button-block bold">Edit</button></div></div></div></div></ion-content></ion-modal-view>'),e.put("app/component/ion-photo/view/modal.share.photo.html",'<ion-modal-view class="modal-share"><ion-header-bar class="bar-dark"><div class="title">{{ ::\'Share\' | translate }}\n</div><button class="button button-positive" ng-click="modal.hide()"><i class="icon ion-arrow-right-b"></i></button>\n</ion-header-bar><ion-content ng-cloak><div id="image"><img ng-src="{{ ::form.photo}}"><div class="title">\n{{ ::form.title }}</div></div><ul class="list"><li class="padding"><button ng-repeat="social in sociais" \nng-click="share(form, social)" class="button button-block button-{{ social }}"><i class="icon ion-social-{{ social }}">\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>')}])}();
//# sourceMappingURL=../maps/scripts/app-c52fe4d367.js.map
