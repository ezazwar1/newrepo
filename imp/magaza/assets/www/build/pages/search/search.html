<!--
  Generated template for the SearchPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Search Magaza</ion-title>
  </ion-navbar>
</ion-header>


<ion-content class="search-page">
  <div class="app-search-form">
    <ion-searchbar
      [(ngModel)]="searchTerm"
      [showCancelButton]="shouldShowCancel"
      (search)="loadSearchResults($event)">
    </ion-searchbar>
  </div>

  <!-- Error Dialog -->
  <div class="mg-error-box" *ngIf="didNotLoad">
    <h1>
      <ion-icon name="alert"></ion-icon>
    </h1>
    <h3 class="bold-weight">Hmmm. Something's not right.</h3>
    <p>Data didn't load. Try again</p>
    <button primary (click)="loadSearchResults()">Reload</button>
  </div>
  <!-- End Error Dialog -->

  <!-- Search Results Section -->
  <div class="mini-post-section" *ngIf="searchReturnedResults">
    <h6 class="mini-post-section--title">Search Results</h6>
    <ion-list>
      <mini-post *ngFor="let post of searchResultsData" miniPostTitle="{{post.miniPostTitle}}" miniPostImage="{{post.miniPostImage}}"></mini-post>
    </ion-list>
  </div>
  <!-- End Search Results Section -->

  <div class="mini-post-section">
    <h6 class="mini-post-section--title">Currently Trending</h6>
    <ion-list>
      <mini-post *ngFor="let relatedPost of relatedPostsData" miniPostTitle="{{relatedPost.miniPostTitle}}" miniPostImage="{{relatedPost.miniPostImage}}"></mini-post>
    </ion-list>
  </div>
</ion-content>
